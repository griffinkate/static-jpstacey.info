<!DOCTYPE html>
<html lang="en" version="XHTML+RDFa 1.0" dir="ltr">
<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/files/jps/starberry_favicon.png" type="image/png" />
<meta name="generator" content="Drupal 7 (https://www.drupal.org)" />
<link rel="canonical" href="../blog/2006/07/21/dual-head-on-collision.html" />
<link rel="shortlink" href="../node/11.html" />
  <title>Dual-head on collision | J-P Stacey</title>
  <link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_xE-rWrJf-fncB6ztZfd2huxqgxu4WO-qwma6Xer30m4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_jdej_Zz2sjg--A2C2aVJ-Qt5W-fI_fkFnsddutilsws.css" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_A3Qn9PgslsjDpW1HfgFuI26cQlhJ23E7y9wyYqpiJIA.css" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_0Heb-O6YY5Tn5xG4WrHtAAXZCtYk-eKiVo7PlP1bsg4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_2THG1eGiBIizsWFeexsNe1iDifJ00QRS9uSd03rY9co.css" media="print" />

<!--[if lte IE 7]>
<link type="text/css" rel="stylesheet" href="http://jpstacey.lndo.site/sites/default/themes/custom/barthes/css/ie.css?qfgo2z" media="all" />
<![endif]-->

<!--[if IE 6]>
<link type="text/css" rel="stylesheet" href="http://jpstacey.lndo.site/sites/default/themes/custom/barthes/css/ie6.css?qfgo2z" media="all" />
<![endif]-->
  <script type="text/javascript" src="../sites/files/jps/js/js_vDrW3Ry_4gtSYaLsh77lWhWjIC6ml2QNkcfvfP5CVFs.js"></script>
<script type="text/javascript" src="../sites/files/jps/js/js_gPqjYq7fqdMzw8-29XWQIVoDSWTmZCGy9OqaHppNxuQ.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-4775024-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"barthes","theme_token":"EQA7RoXIpbOuQWJ-E4uaYM3cAz2eMKvk1DWzMPliQYQ","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/mollom\/mollom.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/media\/modules\/media_wysiwyg\/css\/media_wysiwyg.base.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"public:\/\/geshi\/geshifilter-languages.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"themes\/bartik\/css\/layout.css":1,"themes\/bartik\/css\/style.css":1,"sites\/default\/themes\/custom\/barthes\/css\/colors.css":1,"sites\/default\/themes\/custom\/barthes\/css\/custom.css":1,"themes\/bartik\/css\/print.css":1,"sites\/default\/themes\/custom\/barthes\/css\/ie.css":1,"sites\/default\/themes\/custom\/barthes\/css\/ie6.css":1}},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"}});
//--><!]]>
</script>
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-second page-node page-node- page-node-11 node-type-blog" >
  <div id="skip-link">
    <a href="2.html#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page-wrapper"><div id="page">

  <div id="header" class="with-secondary-menu"><div class="section clearfix">

    
          <div id="name-and-slogan">

                              <div id="site-name">
              <strong>
                <a href="../index.html" title="Home" rel="home"><span>J-P Stacey</span></a>
              </strong>
            </div>
                  
                  <div id="site-slogan">
            Drupal, programming culture, gardening, cycling and the environment          </div>
        
      </div> <!-- /#name-and-slogan -->
    
    
    
          <div id="secondary-menu" class="navigation">
        <h2 class="element-invisible">Secondary menu</h2><ul id="secondary-menu-links" class="links inline clearfix"><li class="menu-7322 first"><a href="../cv.html" title="My curriculum vitae">CV</a></li>
<li class="menu-7320 last"><a href="../contact.html" title="">Contact me</a></li>
</ul>      </div> <!-- /#secondary-menu -->
    
  </div></div> <!-- /.section, /#header -->

  
  
  <div id="main-wrapper" class="clearfix"><div id="main" class="clearfix">

    
    
    <div id="content" class="column"><div class="section">
            <a id="main-content"></a>
                    <h1 class="title" id="page-title">
          Dual-head on collision        </h1>
                          <div class="tabs">
                  </div>
                          <div class="region region-content">
    <div id="block-system-main" class="block block-system">

    
  <div class="content">
    <div  class="ds-1col node node-blog node-promoted node-full view-mode-full clearfix">

  
  <div class="field field-name-post-date field-type-ds field-label-hidden"><div class="field-items"><div class="field-item even">Friday, July 21, 2006 - 14:35</div></div></div><div class="field field-name-field-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>One of the last tasks that moving to my new machine involves is to stretch the <a title="Ubuntu Linux - for human beings" href="http://www.ubuntu.com/">Ubuntu </a>desktop across both of my monitors. <a title="Sysadmin whizz, OpenStreetMap fetishist" href="http://gagravarr.livejournal.com/">Our sysadmin</a> had very kindly set it up to work with the monitor card integral to the motherboard, so in principle I only had to tweak the configuration for X, the standard Linux GUI system.</p>
<p>Could I get this to work? Could I hell. xorg.conf configuration after configuration threw the error</p>
<blockquote class="code"><p>(WW) MGA: No matching Device section for instance (BusID PCI:5:0:0) found</p>
</blockquote>
<p>Once in a while there was a flicker from X. A couple of times my machine returned to its text-only state with text on both monitors. So something was happening, but not even the same thing every time.</p>
<p>Eventually, I began to grow suspicious. I finally did what I probably ought to have done earlier and read the <a title="Man(ual) pages, Linux's elderly help system" href="http://www.cs.mcgill.ca/~guide/help/man.html">man page</a> for xorg.conf. Yeah, I realise: RTFM; but when the X system seems to be both spread over so many different programs and also quite different from the old pre-Xorg layout that I remember, it’s difficult to second-guess which files will have man pages named after them and which won’t.</p>
<p>After some hunting, the following caught my eye:</p>
<blockquote><p>When  the  Xorg  server  is started by the “root” user, the config file search locations are as follows:</p>
<p>…<br />
$HOME/xorg.conf</p>
</blockquote>
<p>That’s it. I’d left an old xorg.conf hanging around in /root/, and being calledâ€”depending on how I instantiated my X session, and hence apparently not repeatablyâ€”in preference to the “standard” one in /etc/X11. So if I used the init.d script to start gdm it would ignore the dud xorg.conf; if I ran X or startx it wouldn’t; but if I then specified <code>-config /etc/X11/xorg.conf</code> on the command line I’d get flickers and pops from my monitors again. Sigh.</p>
<p>So, my rather ludicrous, meandering experiences aside, these are my humble recommendations for anyone trying to get similar hardware to mine working. I’m running <a title="Codename for Ubuntu Linux v6.06" href="http://www.ubuntu.com/download/releasenotes/606">Dapper Drake</a> <a title="Ubuntu - Linux for humans" href="http://www.ubuntu.com/">Ubuntu</a> including Xorg 7.0.0 on a dual-core 2×3.0GHz <a title="Dell Computers" href="http://www.dell.com">Dell</a> <a title="Standard business computer from Dell" href="http://www1.euro.dell.com/content/products/productdetails.aspx/optix_gx520?c=uk&amp;l=en&amp;s=bsd&amp;cs=ukbsdt1">Optiplex GX520</a> with 1GB RAM and oh, so many GB HD. The monitor card is a Matrox G450 (VGA + DVI sockets), and with malice aforethought I’d probably install a similar-looking system as follows:</p>
<ol><li>Start X, wherever possible, using <code>/etc/init.d/gdm (re)start</code>. This prevents loading any <strong>stray xorg.conf files</strong>. Also, just don’t leave them lying around with the name xorg.conf!</li>
<li><code>sudo dpkg-reconfigure -phigh xserver-xorg</code> can be handy to <strong>version</strong> <code>/etc/X11/xorg.conf</code>, as it re-parses it to make sense for dpkg-reconfigure and saves the old version. Be aware that reparsing might modify any weird configuration that dpkg-reconfigure doesn’t understand.</li>
<li>Avoid older Matrox cards, such as the G200 or G250, for purely physical reasons: they don’t fit in some of the smaller Dell boxes.</li>
<li><strong>Matrox drivers </strong>come with Xorg 7.0.0, although I used <a title="Matrox drivers for the MGA G450 dual-head card" href="http://matrox.com/mga/support/drivers/files/lnx_43.cfm">Matrox’s own drivers</a> for reasons of not knowing beforehand. Given most people recommend the stability of former set of drivers, it looks like either might do.</li>
<li>Run <code>lspci</code> to see which location on the PCI bus is occupied by the Matrox card. The output lines begin with numbers like “0000:05:00.0″: these correspond to PCI addresses e.g. a <strong>BusID</strong> setting in xorg.conf of “PCI:5:0:0″ in this case. I’ve read in some places that xorg.conf sometimes wants extra zeroes e.g. “PCI:05:0:0″, but I’ve not noticed that behaviour.</li>
<li>In xorg.conf, you’ll need <strong>two</strong> device entries, <strong>two</strong> screen entries and <strong>two</strong> monitor entries. You can get away with one monitor entry if both your monitors are the same, but two will future-proof you against any modifications to your hardware.</li>
<li>The G450, unlike some cards, only occupies <strong>one PCI address</strong>. This means you’ll need the “Screen 0″ and “Screen 1″ attributes to differentiate your two Device entries in xorg.conf</li>
<li>There are <strong>other options </strong>like Xinerama (standard multiple-head management drivers) that you ought to switch on, but without these X will at least recognise your monitors are there.</li>
<li>Screen sizes, sync rates etc. should be set <strong>conservatively </strong>at first: with most modern monitors you can probably leave sync rates out, but <em>caveat lector</em>: it’s possible to explode old monitors using funny sync settings.</li>
<li>For reference, my xorg.conf is available at  <a title="xorg.conf for a dual-head Ubuntu system" href="http://www.jpstacey.info/blog/files/code/xorg.conf">http://www.jpstacey.info/blog/files/code/xorg.conf</a>. Obviously check the sync and resolution settings with the above <em>caveat</em>, but you should only need to modify this slightly for your own setup, if the hardware is at all similar.</li>
</ol><p>The system works fine; really well, in fact. My old machine was dual-head, but it’s easy to get used to slowness caused (in that case) by the processing power of the machine and not realise those shackled were present. The graphics on this machine have a kind of OSX slickness to them that I’m still a little dazzled by. Now, if only I can get it to swap to kubuntu; gnome’s big buttons and stultified interface always remind me of primary school.</p>
</div></div></div><div id="comments" class="comment-wrapper">
          <h2 class="title">Comments</h2>
      
  <a id="comment-1"></a>
<div class="comment comment-by-anonymous clearfix">

  <div class="attribution">

    
    <div class="submitted">
      <p class="commenter-name">
        <span class="username">Liz (not verified)</span>      </p>
      <p class="comment-time">
        Mon, 02/10/2006 - 07:56      </p>
      <p class="comment-permalink">
        <a href="1.html#comment-1" class="permalink" rel="bookmark">Permalink</a>      </p>
    </div>
  </div>

  <div class="comment-text">
    <div class="comment-arrow"></div>

    
    <div style='display: none;'>    <h3><a href="1.html#comment-1" class="permalink" rel="bookmark">Your link to your xorg config</a></h3>
    </div>
    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>Your link to your xorg config is actually a link to a 'sql code for Search-the-whole-database'</p>
</div></div></div>          </div> <!-- /.content -->

      </div> <!-- /.comment-text -->
</div>
<a id="comment-2"></a>
<div class="comment comment-by-anonymous clearfix">

  <div class="attribution">

    
    <div class="submitted">
      <p class="commenter-name">
        <span class="username">jps (not verified)</span>      </p>
      <p class="comment-time">
        Mon, 02/10/2006 - 08:13      </p>
      <p class="comment-permalink">
        <a href="2.html#comment-2" class="permalink" rel="bookmark">Permalink</a>      </p>
    </div>
  </div>

  <div class="comment-text">
    <div class="comment-arrow"></div>

    
    <div style='display: none;'>    <h3><a href="2.html#comment-2" class="permalink" rel="bookmark">Whoops - you&#039;re quite right.</a></h3>
    </div>
    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>Whoops - you're quite right. Now fixed: thanks!</p>
</div></div></div>          </div> <!-- /.content -->

      </div> <!-- /.comment-text -->
</div>

  </div>
</div>

  </div>
</div>
  </div>
      
    </div></div> <!-- /.section, /#content -->

          <div id="sidebar-second" class="column sidebar"><div class="section">
          <div class="region region-sidebar-second">
    <div id="block-block-7" class="block block-block">

    <h2>I&#039;m a Drupal Association member!</h2>
  
  <div class="content">
    <div style="margin: -15px 0"><a href="https://drupal.org/user/130486"><img src="https://association.drupal.org/files/Drupal_Association_ind_member_217_0.png" alt="My individual membership of the Drupal Association" title="You can view my DA membership on drupal.org" width="168" height="168" /></a></div>
  </div>
</div>
<div id="block-block-10" class="block block-block">

    <h2>Drupal 8 API tutorials</h2>
  
  <div class="content">
    <p>Want to learn about the Drupal 8 APIs, with worked examples? <a href="http://www.jpstacey.info/d8api">Follow my series of tutorials</a>, covering routing, caching, entities, config and much more!</p>
  </div>
</div>
<div id="block-stateblock-stateblock" class="block block-stateblock">

    <h2>Want to hire me?</h2>
  
  <div class="content">
    <a href="../contact.html"><section class="state-no">
  <header>I'm currently</header>
  <section class="state-description">fully booked</section>
  <footer>for freelance work. But you can click here to contact me!</footer>
</section></a>  </div>
</div>
<div id="block-ds-extras-blogpost-secondary-nav" class="block block-ds-extras">

    
  <div class="content">
    <div class="field field-name-taxonomy-vocabulary-6 field-type-taxonomy-term-reference field-label-above clearfix"><h3 class="field-label">Blog category: </h3><ul class="links"><li class="taxonomy-term-reference-0"><a href="../category/wordpress-category/configuration.html">configuration</a>, <a href="../category/wordpress-category/diagnostics.html">diagnostics</a>, <a href="../category/wordpress-category/hardware.html">hardware</a></li></ul></div><div class="field field-name-taxonomy-vocabulary-7 field-type-taxonomy-term-reference field-label-above clearfix"><h3 class="field-label">Tags: </h3><ul class="links"><li class="taxonomy-term-reference-0"><a href="../category/wordpress-tag/dell.html">dell</a>, <a href="../category/wordpress-tag/dual-head.html">dual-head</a>, <a href="../category/wordpress-tag/g450.html">g450</a>, <a href="../category/wordpress-tag/linux.html">linux</a>, <a href="../category/wordpress-tag/matrox.html">matrox</a>, <a href="../category/wordpress-tag/pci.html">pci</a>, <a href="../category/wordpress-tag/ubuntu.html">ubuntu</a>, <a href="../category/wordpress-tag/xinerama.html">xinerama</a>, <a href="../category/wordpress-tag/xorg.html">xorg</a>, <a href="../category/wordpress-tag/xorgconf.html">xorg.conf</a></li></ul></div>  </div>
</div>
<div id="block-views-recent-blog-block-1" class="block block-views">

    <h2>Recent blogposts</h2>
  
  <div class="content">
    <div class="view view-recent-blog view-id-recent_blog view-display-id-block_1 view-dom-id-a53b19b3b082ae726ad2a1fbe53698e6">
        
  
  
      <div class="view-content">
        <ul>
    <li class="first odd">
      
      <h3>
  
    
      <a href="../blog/2017-07-21/altering-length-drupal-8-text-field-contains-data.html">Altering the length of a Drupal 8 text field that contains data</a>
      </h3>
  

      <div>
  
    
      Friday, July 21, 2017 - 11:31
      </div>
  
    </li>
      <li class="even">
      
      <h3>
  
    
      <a href="../blog/2017-06-02/menagerie-testing-behavioural-unit-system-smoke-regression-oh-my.html">A menagerie of testing: behavioural, unit, system, smoke, regression, oh my!</a>
      </h3>
  

      <div>
  
    
      Friday, June 2, 2017 - 10:11
      </div>
  
    </li>
      <li class="last odd">
      
      <h3>
  
    
      <a href="../blog/2017-05-30/including-javascript-behat-tests-all-inside-headless-virtual-machine.html">Including Javascript in Behat tests, all inside a headless, virtual machine</a>
      </h3>
  

      <div>
  
    
      Tuesday, May 30, 2017 - 16:51
      </div>
  
    </li>
    </ul>
    </div>
  
  
  
      
<div class="more-link">
  <a href="../blog_view.html">
    All blogposts  </a>
</div>
  
  
  
</div>  </div>
</div>
<div id="block-block-5" class="block block-block">

    <h2>About me</h2>
  
  <div class="content">
    <p>I'm J-P Stacey, and I'm a freelance technical developer and software architect, working with <a href="http://drupal.org/">Drupal</a>, Javascript, Symfony, PHP and devops, with experience in project and process management and an emphasis on usability.</p>
<p>I live in the <a href="http://gov.uk">UK</a>; my website is self-hosted on <a href="http://bigv.io">bigv.io</a>; my email is hosted by <a href="http://mail.google.com">Google</a>, and that's also what I use to share files. <small>(<a href="https://data-jurisdiction.org/country/GB">More info</a>|<a href="http://www.jpstacey.info/blog/2013-08-20/what-jurisdiction-am-i-in">What is this?</a>)</small></p>
  </div>
</div>
<div id="block-menu-secondary-menu" class="block block-menu">

    <h2>Find me elsewhere</h2>
  
  <div class="content">
    <ul class="menu clearfix"><li class="first leaf"><a href="http://twitter.com/mphield" title="My commercial account on Twitter">Company @ Twitter</a></li>
<li class="leaf"><a href="http://drupal.org/user/130486" title="Drupal user #130486: woohoo!">Drupal @ d.o</a></li>
<li class="leaf"><a href="http://github.com/jpstacey" title="My code repositories on Github">Code @ Github</a></li>
<li class="leaf"><a href="http://flickr.com/photos/eustatius" title="My photos on Flickr">Photos @ Flickr</a></li>
<li class="last leaf"><a href="http://pinboard.in/u:jpstacey" title="My links on the Pinboard bookmarking site">Links @ Pinboard</a></li>
</ul>  </div>
</div>
  </div>
      </div></div> <!-- /.section, /#sidebar-second -->
    
  </div></div> <!-- /#main, /#main-wrapper -->

  
  <div id="footer-wrapper"><div class="section">

    
    
  </div></div> <!-- /.section, /#footer-wrapper -->

</div></div> <!-- /#page, /#page-wrapper -->
  </body>
</html>
