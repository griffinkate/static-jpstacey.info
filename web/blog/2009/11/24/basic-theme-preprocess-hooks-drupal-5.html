<!DOCTYPE html>
<html lang="en" version="XHTML+RDFa 1.0" dir="ltr">
<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../../../../sites/files/jps/starberry_favicon.png" type="image/png" />
<meta name="generator" content="Drupal 7 (https://www.drupal.org)" />
<link rel="canonical" href="basic-theme-preprocess-hooks-drupal-5.html" />
<link rel="shortlink" href="../../../../node/307.html" />
  <title>Basic theme preprocess hooks in Drupal 5 | J-P Stacey</title>
  <link type="text/css" rel="stylesheet" href="../../../../sites/files/jps/css/css_xE-rWrJf-fncB6ztZfd2huxqgxu4WO-qwma6Xer30m4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../../sites/files/jps/css/css_jdej_Zz2sjg--A2C2aVJ-Qt5W-fI_fkFnsddutilsws.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../../sites/files/jps/css/css_A3Qn9PgslsjDpW1HfgFuI26cQlhJ23E7y9wyYqpiJIA.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../../sites/files/jps/css/css_0Heb-O6YY5Tn5xG4WrHtAAXZCtYk-eKiVo7PlP1bsg4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../../../sites/files/jps/css/css_2THG1eGiBIizsWFeexsNe1iDifJ00QRS9uSd03rY9co.css" media="print" />

<!--[if lte IE 7]>
<link type="text/css" rel="stylesheet" href="http://jpstacey.lndo.site/sites/default/themes/custom/barthes/css/ie.css?qfgo2z" media="all" />
<![endif]-->

<!--[if IE 6]>
<link type="text/css" rel="stylesheet" href="http://jpstacey.lndo.site/sites/default/themes/custom/barthes/css/ie6.css?qfgo2z" media="all" />
<![endif]-->
  <script type="text/javascript" src="../../../../sites/files/jps/js/js_vDrW3Ry_4gtSYaLsh77lWhWjIC6ml2QNkcfvfP5CVFs.js"></script>
<script type="text/javascript" src="../../../../sites/files/jps/js/js_gPqjYq7fqdMzw8-29XWQIVoDSWTmZCGy9OqaHppNxuQ.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-4775024-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"barthes","theme_token":"2kv8SlC8ZweqZ8H_ASjJiXgFt8QXArJBx4HL339CvaU","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/mollom\/mollom.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/media\/modules\/media_wysiwyg\/css\/media_wysiwyg.base.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"public:\/\/geshi\/geshifilter-languages.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"themes\/bartik\/css\/layout.css":1,"themes\/bartik\/css\/style.css":1,"sites\/default\/themes\/custom\/barthes\/css\/colors.css":1,"sites\/default\/themes\/custom\/barthes\/css\/custom.css":1,"themes\/bartik\/css\/print.css":1,"sites\/default\/themes\/custom\/barthes\/css\/ie.css":1,"sites\/default\/themes\/custom\/barthes\/css\/ie6.css":1}},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"}});
//--><!]]>
</script>
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-second page-node page-node- page-node-307 node-type-blog" >
  <div id="skip-link">
    <a href="basic-theme-preprocess-hooks-drupal-5.html#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page-wrapper"><div id="page">

  <div id="header" class="with-secondary-menu"><div class="section clearfix">

    
          <div id="name-and-slogan">

                              <div id="site-name">
              <strong>
                <a href="../../../../index.html" title="Home" rel="home"><span>J-P Stacey</span></a>
              </strong>
            </div>
                  
                  <div id="site-slogan">
            Drupal, programming culture, gardening, cycling and the environment          </div>
        
      </div> <!-- /#name-and-slogan -->
    
    
    
          <div id="secondary-menu" class="navigation">
        <h2 class="element-invisible">Secondary menu</h2><ul id="secondary-menu-links" class="links inline clearfix"><li class="menu-7322 first"><a href="../../../../cv.html" title="My curriculum vitae">CV</a></li>
<li class="menu-7320 last"><a href="../../../../contact.html" title="">Contact me</a></li>
</ul>      </div> <!-- /#secondary-menu -->
    
  </div></div> <!-- /.section, /#header -->

  
  
  <div id="main-wrapper" class="clearfix"><div id="main" class="clearfix">

    
    
    <div id="content" class="column"><div class="section">
            <a id="main-content"></a>
                    <h1 class="title" id="page-title">
          Basic theme preprocess hooks in Drupal 5        </h1>
                          <div class="tabs">
                  </div>
                          <div class="region region-content">
    <div id="block-system-main" class="block block-system">

    
  <div class="content">
    <div  class="ds-1col node node-blog node-promoted node-full view-mode-full clearfix">

  
  <div class="field field-name-post-date field-type-ds field-label-hidden"><div class="field-items"><div class="field-item even">Tuesday, November 24, 2009 - 21:23</div></div></div><div class="field field-name-field-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>One of the useful aspects of Drupal 6's themeing is theme preprocessing. This occurs in between a module (or Drupal core) calling <span class="geshifilter"><code class="text geshifilter-text">theme()</code></span> and rendering the actual template file (or function), and arbitrarily alter the variables passed between the module layer and the theme layer. In this way preprocess hooks act much like Django's context preprocessors, providing ways for modules to "communicate" at the point of themeing.</p>
<p>Drupal 5 doesn't have any preprocess hooks, unfortunately. All it has is the function <span class="geshifilter"><code class="text geshifilter-text">_phptemplate_variables()</code></span> in your theme's <span class="geshifilter"><code class="text geshifilter-text">template.php</code></span>. That's the sole instance of theme preprocessing in D5, and this bottlenecking means that the function quickly becomes the dumping ground for <em>all</em> of your site's pre-theme logic. Even if you're a module developer, of <em>any</em> level of experience, there's no incentive to factor this code out elsewhere: you just replace it with whatever the module function's called anyway, and your site becomes more brittle because of it.</p>
<p>With that in mind, here's how to free up your D5 theme preprocessing in a reasonably Drupalish manner. We'll use a helper module, and call a single function, <em>safely</em> from within your <span class="geshifilter"><code class="text geshifilter-text">template.php</code></span>. That function will replicate the basics of D6's theme preprocessing and let you start writing D5 modules with preprocess logic in them.</p>
<h2>helpd6.info</h2>
<p>First your helper module needs a <span class="geshifilter"><code class="text geshifilter-text">.info</code></span> file. It doesn't need to have very much details in it, but here's a sample file:</p>
<div class="geshifilter">
<pre>
name = D6 forward-compatibility functions
description =  D6 functions, like theme preprocessing
</pre></div>
<h2>helpd6.module</h2>
<p>Next, here's the module in its entirety. Once you've saved this and the <span class="geshifilter"><code class="text geshifilter-text">.info</code></span> file into a directory called <span class="geshifilter"><code class="text geshifilter-text">helpd6</code></span>, in your site's <span class="geshifilter"><code class="text geshifilter-text">modules</code></span> directory, you should be able to enable the module in your Drupal administrative pages.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span class="kw2">&lt;?php</span>
<span class="co4">/**
 * Implementation of basic theme preprocessing
 */</span>
<span class="kw2">function</span> helpd6_implement_preprocess<span class="br0">(</span><span class="sy0">&amp;</span><span class="re0">$vars</span><span class="sy0">,</span> <span class="re0">$hook</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// module_invoke_all passes by value</span>
  <span class="co1">// So assemble function name and invoke ourselves to pass by reference</span>
  <span class="kw1">foreach</span><span class="br0">(</span><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'preprocess'</span><span class="sy0">,</span> <span class="st0">"preprocess_<span class="es4">$hook</span>"</span><span class="br0">)</span> <span class="kw1">as</span> <span class="re0">$stub</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="kw1">foreach</span><span class="br0">(</span>module_implements<span class="br0">(</span><span class="re0">$stub</span><span class="br0">)</span> <span class="kw1">as</span> <span class="re0">$mod</span><span class="br0">)</span> <span class="br0">{</span>
      <span class="re0">$fn</span> <span class="sy0">=</span> <span class="re0">$mod</span> <span class="sy0">.</span> <span class="st0">"_<span class="es4">$stub</span>"</span><span class="sy0">;</span>
      <span class="re0">$fn</span><span class="br0">(</span><span class="re0">$vars</span><span class="sy0">,</span> <span class="re0">$hook</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="br0">}</span>
  <span class="br0">}</span>
<span class="br0">}</span></pre></div>
<p>Note we omit the closing PHP tag. And note also that we put an ampersand by <span class="geshifilter"><code class="text geshifilter-text">$vars</code></span>. This means we get the "real" theme variables object to play with, not a copy, so that all our logic can modify that "real" variables object and it's reflected by the time Drupal gets round to themeing.</p>
<h2>template.php (excerpt)</h2>
<p>Finally, this snippet ties everything together: it calls your helper module from the theme's <span class="geshifilter"><code class="text geshifilter-text">template.php</code></span>. Put it at the very end of the <span class="geshifilter"><code class="text geshifilter-text">_phptemplate_variables()</code></span> function:</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span class="kw2">function</span> _phptemplate_variables<span class="br0">(</span><span class="re0">$hook</span><span class="sy0">,</span> <span class="sy0">&amp;</span><span class="re0">$vars</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// ...</span>
 
  <span class="co1">// Finally, run preprocess hook functions</span>
  <a href="http://www.php.net/function_exists"><span class="kw3">function_exists</span></a><span class="br0">(</span><span class="st_h">'helpd6_implement_preprocess'</span><span class="br0">)</span> 
    <span class="sy0">&amp;&amp;</span> helpd6_implement_preprocess<span class="br0">(</span><span class="re0">$vars</span><span class="sy0">,</span> <span class="re0">$hook</span><span class="br0">)</span><span class="sy0">;</span>
 
  <span class="co1">// Now return variables</span>
  <span class="kw1">return</span> <span class="re0">$vars</span><span class="sy0">;</span>
<span class="br0">}</span></pre></div>
<p>You'll see that it checks the function exists first. You could check with <span class="geshifilter"><code class="text geshifilter-text">module_exists('helpd6')</code></span> too, but we're aiming for as robust a setup as possible, so best check the function exists rather than the general module.</p>
<p>We also return the variables. In practice, referring to <span class="geshifilter"><code class="text geshifilter-text">&amp;$vars</code></span> in the function declaration means they get merged in situ, but in principle <a href="http://api.drupal.org/api/function/_phptemplate_variables/5">the function's definition on api.drupal.org</a> requires the variables array to be returned. So changes inthe PHPTemplate engine might stop the <span class="geshifilter"><code class="text geshifilter-text">&amp;$vars</code></span> trick working in the future.</p>
<h2>Implementation</h2>
<p>You can now implement either <span class="geshifilter"><code class="text geshifilter-text">hook_preprocess</code></span> or <span class="geshifilter"><code class="text geshifilter-text">hook_preprocess_TYPE</code></span> hooks e.g. <span class="geshifilter"><code class="text geshifilter-text">hook_preprocess_page</code></span>. These behave pretty much exactly the same as Drupal 6 preprocess hooks.</p>
<p>As an example, let's say that some nodes on your site have an "author" field. This might be different from Drupal's concept of node author e.g: the node might be created by an admin user, but contain information for a book or other publication; the book itself has an author, who could be anybody in the world, alive or dead. Our site also contains a biography node for each author, so we'd like to have the relevant biography present in the theme layer, to list the biography alongside the book.</p>
<p>Here's a "module"---again, just a single function---that accomplishes just that with the aid of our <span class="geshifilter"><code class="text geshifilter-text">helpd6</code></span> module. It should be self-explanatory, but have a look at the comments for more details.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span class="kw2">&lt;?php</span>
<span class="co4">/**
 * Implementation of hook_preprocess_node
 */</span>
<span class="kw2">function</span> authorbiog_preprocess_node<span class="br0">(</span><span class="sy0">&amp;</span><span class="re0">$vars</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// Two possible sources for a biography node:</span>
  <span class="co1">// 1. the author is a site user - CCK user ref field</span>
  <span class="co1">// 2. otherwise, use a CCK node ref field</span>
  <span class="re0">$this_node</span> <span class="sy0">=</span> <span class="re0">$vars</span><span class="br0">[</span><span class="st_h">'node'</span><span class="br0">]</span><span class="sy0">;</span>
  <span class="re0">$author_uid</span> <span class="sy0">=</span> <span class="re0">$this_node</span><span class="sy0">-&gt;</span><span class="me1">field_drupal_author</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">[</span><span class="st_h">'uid'</span><span class="br0">]</span><span class="sy0">;</span>
  <span class="re0">$author_nid</span> <span class="sy0">=</span> <span class="re0">$this_node</span><span class="sy0">-&gt;</span><span class="me1">field_offsite_author</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">[</span><span class="st_h">'nid'</span><span class="br0">]</span><span class="sy0">;</span>
 
  <span class="co1">// Load the author's biog into the theme variables</span>
  <span class="co1">// (Could use Content Profile to help with this)</span>
  <span class="kw1">if</span> <span class="br0">(</span><span class="re0">$author_uid</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="re0">$biog</span> <span class="sy0">=</span> node_load<span class="br0">(</span><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span><span class="st_h">'uid'</span> <span class="sy0">=&gt;</span><span class="re0">$author_uid</span><span class="sy0">,</span> <span class="st_h">'type'</span> <span class="sy0">=&gt;</span> <span class="st_h">'biography'</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span><span class="re0">$author_nid</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="re0">$biog</span> <span class="sy0">=</span> node_load<span class="br0">(</span><span class="re0">$author_nid</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="br0">}</span>
 
  <span class="co1">// Theme preprocess hooks should ALWAYS make the HTML safe</span>
  <span class="co1">// Don't rely on .tpl.php files to filter out possible bad markup</span>
  <span class="re0">$biog</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span><span class="re0">$vars</span><span class="br0">[</span><span class="st_h">'biog'</span><span class="br0">]</span> <span class="sy0">=</span> check_markup<span class="br0">(</span><span class="re0">$biog</span><span class="sy0">-&gt;</span><span class="me1">body</span><span class="sy0">,</span> <span class="re0">$biog</span><span class="sy0">-&gt;</span><span class="me1">format</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
 
  <span class="co1">// &amp;$vars has been passed by reference, so we don't return anything</span>
  <span class="co1">// But you can now access the biog (if it exists) in node.tpl.php as "$biog"</span>
<span class="br0">}</span></pre></div>
<p>You can now access the biography text in the theme layer. Note we don't pass down the whole node: we could, but it's safer to pass down filtered HTML, to avoid any possible security holes. In general, it's the job of theme preprocess hooks to handle HTML security, because you never know where else that HTML is going to end up being rendered.</p>
<p>What's important to remember is that this code, and many other snippets like it, <em>need no longer</em> live in your <span class="geshifilter"><code class="text geshifilter-text">template.php</code></span>. It's now in a module. It's something you can turn on and off, just like a module. And it's something your themer need never worry about: that logic is now safely hidden behind the scenes, leaving <span class="geshifilter"><code class="text geshifilter-text">template.php</code></span> as a theme helper, what it's meant to be. You don't even need any control logic to determine <span class="geshifilter"><code class="text geshifilter-text">$hook</code></span>, because <span class="geshifilter"><code class="text geshifilter-text">module_implements()</code></span> and the naming conventions do that for you.</p>
<h2>Summary</h2>
<p>Drupal 5 themeing will never be as versatile as Drupal 6 themeing. But standard code patterns---especially "Drupalish" ones---can go a long way to abstracting out into modules much of the theme preprocessing that Drupal 5 would otherwise force you to do in your theme layer. The more logic you move out of your theme, the more robust it gets, and the easier it is for a non-developer to maintain. </p>
</div></div></div></div>

  </div>
</div>
  </div>
      
    </div></div> <!-- /.section, /#content -->

          <div id="sidebar-second" class="column sidebar"><div class="section">
          <div class="region region-sidebar-second">
    <div id="block-block-7" class="block block-block">

    <h2>I&#039;m a Drupal Association member!</h2>
  
  <div class="content">
    <div style="margin: -15px 0"><a href="https://drupal.org/user/130486"><img src="https://association.drupal.org/files/Drupal_Association_ind_member_217_0.png" alt="My individual membership of the Drupal Association" title="You can view my DA membership on drupal.org" width="168" height="168" /></a></div>
  </div>
</div>
<div id="block-block-10" class="block block-block">

    <h2>Drupal 8 API tutorials</h2>
  
  <div class="content">
    <p>Want to learn about the Drupal 8 APIs, with worked examples? <a href="/d8api.html">Follow my series of tutorials</a>, covering routing, caching, entities, config and much more!</p>
  </div>
</div>
<div id="block-stateblock-stateblock" class="block block-stateblock">

    <h2>Want to hire me?</h2>
  
  <div class="content">
    <a href="../../../../contact.html"><section class="state-no">
  <header>I'm currently</header>
  <section class="state-description">fully booked</section>
  <footer>for freelance work. But you can click here to contact me!</footer>
</section></a>  </div>
</div>
<div id="block-ds-extras-blogpost-secondary-nav" class="block block-ds-extras">

    
  <div class="content">
    <div class="field field-name-taxonomy-vocabulary-6 field-type-taxonomy-term-reference field-label-above clearfix"><h3 class="field-label">Blog category: </h3><ul class="links"><li class="taxonomy-term-reference-0"><a href="../../../../category/wordpress-category/framework.html">framework</a>, <a href="../../../../category/wordpress-category/hacking.html">hacking</a></li></ul></div><div class="field field-name-taxonomy-vocabulary-7 field-type-taxonomy-term-reference field-label-above clearfix"><h3 class="field-label">Tags: </h3><ul class="links"><li class="taxonomy-term-reference-0"><a href="../../../../category/wordpress-tag/maintenance.html">maintenance</a>, <a href="../../../../category/wordpress-tag/drupal.html">drupal</a>, <a href="../../../../category/wordpress-tag/compatibility.html">compatibility</a>, <a href="../../../../category/tags/backport.html">backport</a>, <a href="../../../../category/tags/d5.html">d5</a>, <a href="../../../../category/tags/d6.html">d6</a></li></ul></div>  </div>
</div>
<div id="block-views-recent-blog-block-1" class="block block-views">

    <h2>Recent blogposts</h2>
  
  <div class="content">
    <div class="view view-recent-blog view-id-recent_blog view-display-id-block_1 view-dom-id-33d4c12dc1d21b69976fa3a8801f946c">
        
  
  
      <div class="view-content">
        <ul>
    <li class="first odd">
      
      <h3>
  
    
      <a href="../../../2017-07-21/altering-length-drupal-8-text-field-contains-data.html">Altering the length of a Drupal 8 text field that contains data</a>
      </h3>
  

      <div>
  
    
      Friday, July 21, 2017 - 11:31
      </div>
  
    </li>
      <li class="even">
      
      <h3>
  
    
      <a href="../../../2017-06-02/menagerie-testing-behavioural-unit-system-smoke-regression-oh-my.html">A menagerie of testing: behavioural, unit, system, smoke, regression, oh my!</a>
      </h3>
  

      <div>
  
    
      Friday, June 2, 2017 - 10:11
      </div>
  
    </li>
      <li class="last odd">
      
      <h3>
  
    
      <a href="../../../2017-05-30/including-javascript-behat-tests-all-inside-headless-virtual-machine.html">Including Javascript in Behat tests, all inside a headless, virtual machine</a>
      </h3>
  

      <div>
  
    
      Tuesday, May 30, 2017 - 16:51
      </div>
  
    </li>
    </ul>
    </div>
  
  
  
      
<div class="more-link">
  <a href="../../../../blog_view.html">
    All blogposts  </a>
</div>
  
  
  
</div>  </div>
</div>
<div id="block-block-5" class="block block-block">

    <h2>About me</h2>
  
  <div class="content">
    <p>I'm J-P Stacey, and I'm a freelance technical developer and software architect, working with <a href="http://drupal.org/">Drupal</a>, Javascript, Symfony, PHP and devops, with experience in project and process management and an emphasis on usability.</p>
<p>I live in the <a href="http://gov.uk">UK</a>; my website is self-hosted on <a href="http://bigv.io">bigv.io</a>; my email is hosted by <a href="http://mail.google.com">Google</a>, and that's also what I use to share files. <small>(<a href="https://data-jurisdiction.org/country/GB">More info</a>|<a href="/blog/2013-08-20/what-jurisdiction-am-i-in.html">What is this?</a>)</small></p>
  </div>
</div>
<div id="block-menu-secondary-menu" class="block block-menu">

    <h2>Find me elsewhere</h2>
  
  <div class="content">
    <ul class="menu clearfix"><li class="first leaf"><a href="http://twitter.com/mphield" title="My commercial account on Twitter">Company @ Twitter</a></li>
<li class="leaf"><a href="http://drupal.org/user/130486" title="Drupal user #130486: woohoo!">Drupal @ d.o</a></li>
<li class="leaf"><a href="http://github.com/jpstacey" title="My code repositories on Github">Code @ Github</a></li>
<li class="leaf"><a href="http://flickr.com/photos/eustatius" title="My photos on Flickr">Photos @ Flickr</a></li>
<li class="last leaf"><a href="http://pinboard.in/u:jpstacey" title="My links on the Pinboard bookmarking site">Links @ Pinboard</a></li>
</ul>  </div>
</div>
  </div>
      </div></div> <!-- /.section, /#sidebar-second -->
    
  </div></div> <!-- /#main, /#main-wrapper -->

  
  <div id="footer-wrapper"><div class="section">

    
    
  </div></div> <!-- /.section, /#footer-wrapper -->

</div></div> <!-- /#page, /#page-wrapper -->
  </body>
</html>
