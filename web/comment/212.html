<!DOCTYPE html>
<html lang="en" version="XHTML+RDFa 1.0" dir="ltr">
<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/files/jps/starberry_favicon.png" type="image/png" />
<meta name="generator" content="Drupal 7 (https://www.drupal.org)" />
<link rel="canonical" href="../blog/2014-06-01/bulk-updates-across-many-nodes-using-entity-field-query-and-entity-metadata-wrapper.html" />
<link rel="shortlink" href="../node/529.html" />
  <title>Bulk updates across many nodes using Entity Field Query and Entity Metadata Wrapper | J-P Stacey</title>
  <link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_xE-rWrJf-fncB6ztZfd2huxqgxu4WO-qwma6Xer30m4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_jdej_Zz2sjg--A2C2aVJ-Qt5W-fI_fkFnsddutilsws.css" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_A3Qn9PgslsjDpW1HfgFuI26cQlhJ23E7y9wyYqpiJIA.css" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_0Heb-O6YY5Tn5xG4WrHtAAXZCtYk-eKiVo7PlP1bsg4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../sites/files/jps/css/css_2THG1eGiBIizsWFeexsNe1iDifJ00QRS9uSd03rY9co.css" media="print" />

<!--[if lte IE 7]>
<link type="text/css" rel="stylesheet" href="/sites/default/themes/custom/barthes/css/ie.css?qfgo2z" media="all" />
<![endif]-->

<!--[if IE 6]>
<link type="text/css" rel="stylesheet" href="/sites/default/themes/custom/barthes/css/ie6.css?qfgo2z" media="all" />
<![endif]-->
  <script type="text/javascript" src="../sites/files/jps/js/js_vDrW3Ry_4gtSYaLsh77lWhWjIC6ml2QNkcfvfP5CVFs.js"></script>
<script type="text/javascript" src="../sites/files/jps/js/js_gPqjYq7fqdMzw8-29XWQIVoDSWTmZCGy9OqaHppNxuQ.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-4775024-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"barthes","theme_token":"_Nq0-iN87b6c3GXBNcKljHfG9j9vqa2oMD6gVX4_laI","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/mollom\/mollom.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/media\/modules\/media_wysiwyg\/css\/media_wysiwyg.base.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"public:\/\/geshi\/geshifilter-languages.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"themes\/bartik\/css\/layout.css":1,"themes\/bartik\/css\/style.css":1,"sites\/default\/themes\/custom\/barthes\/css\/colors.css":1,"sites\/default\/themes\/custom\/barthes\/css\/custom.css":1,"themes\/bartik\/css\/print.css":1,"sites\/default\/themes\/custom\/barthes\/css\/ie.css":1,"sites\/default\/themes\/custom\/barthes\/css\/ie6.css":1}},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"}});
//--><!]]>
</script>
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-second page-node page-node- page-node-529 node-type-blog" >
  <div id="skip-link">
    <a href="212.html#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page-wrapper"><div id="page">

  <div id="header" class="with-secondary-menu"><div class="section clearfix">

    
          <div id="name-and-slogan">

                              <div id="site-name">
              <strong>
                <a href="../index.html" title="Home" rel="home"><span>J-P Stacey</span></a>
              </strong>
            </div>
                  
                  <div id="site-slogan">
            Drupal, programming culture, gardening, cycling and the environment          </div>
        
      </div> <!-- /#name-and-slogan -->
    
    
    
          <div id="secondary-menu" class="navigation">
        <h2 class="element-invisible">Secondary menu</h2><ul id="secondary-menu-links" class="links inline clearfix"><li class="menu-7322 first"><a href="../cv.html" title="My curriculum vitae">CV</a></li>
<li class="menu-7320 last"><a href="../contact.html" title="">Contact me</a></li>
</ul>      </div> <!-- /#secondary-menu -->
    
  </div></div> <!-- /.section, /#header -->

  
  
  <div id="main-wrapper" class="clearfix"><div id="main" class="clearfix">

    
    
    <div id="content" class="column"><div class="section">
            <a id="main-content"></a>
                    <h1 class="title" id="page-title">
          Bulk updates across many nodes using Entity Field Query and Entity Metadata Wrapper        </h1>
                          <div class="tabs">
                  </div>
                          <div class="region region-content">
    <div id="block-system-main" class="block block-system">

    
  <div class="content">
    <div  class="ds-1col node node-blog node-promoted node-full view-mode-full clearfix">

  
  <div class="field field-name-post-date field-type-ds field-label-hidden"><div class="field-items"><div class="field-item even">Sunday, June 1, 2014 - 16:55</div></div></div><div class="field field-name-field-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>I was recently trying to solve a Drupal problem: how do you update a large number of nodes, swapping the long-text version of a text field into the summary version of it, and removing the long-text version? Those two stalwarts of bulk updates in the admin interface, <a href="https://drupal.org/project/rules">Rules</a> and <a href="https://drupal.org/project/views_bulk_operations">Views Bulk Operations</a>, were only getting me so far: either both versions of the field would end up empty, or copying into the summary field would strip the markup because of how Rules "treats" summary as a field without its own filter format.</p>
<p>In the end, I bit the bullet and wrote a command-line script with Drush. You can save any PHP file as a Drush script, and as long as you run it with:</p>
<p><span class="geshifilter"><code class="bash geshifilter-bash">drush php-script <span class="br0">[</span>SCRIPTNAME<span class="br0">]</span></code></span></p>
<p>then it will inherit the whole of the current Drupal site's code and configuration before being run. You might want to use a non-executable file suffix for the <span class="geshifilter"><code class="text geshifilter-text">[SCRIPTNAME]</code></span>. That way, if you do accidentally leave it lying around on your production filesystem, a curious or malicious site visitor can't "accidentally" run it. I usually call such scripts e.g. <span class="geshifilter"><code class="text geshifilter-text">body_swap.drush</code></span>.</p>
<p>To write my script, I took advantage of the fact that, from Drupal 7 onwards, nodes are a particular breed of the abstraction known as <em>entities</em>, and there are two very handy coding concepts in Drupal for dealing with entities, either in bulk or singly:</p>
<dl><dt>In bulk: <a href="https://api.drupal.org/api/drupal/includes!entity.inc/class/EntityFieldQuery/7">Entity Field Query</a> (Drupal core)</dt>
<dd>Because entities are an abstraction, in D7 you can't reliably e.g. run SQL statements against database tables, to work out what entites match what criteria. Entity Field Query understands that abstraction, though, and provides <span class="geshifilter"><code class="text geshifilter-text">db_select</code></span>-like syntax for building up a query. To avoid performance problems, the query only returns the absolute minimum of data: typically, in the case of nodes, node ID and content type.  <a href="https://drupal.org/node/1343708">This EFQ quick overview</a> is really helpful and worth reading.</dd>
<dt>Singly: <a href="http://drupalcontrib.org/api/drupal/contributions!entity!entity.module/function/entity_metadata_wrapper/7">Entity Metadata Wrapper</a> (in the third-party <a href="https://drupal.org/project/entity">Entity API</a> module)</dt>
<dd>In Drupal, core entities like nodes aren't very object-oriented: they're really just object-like arrays of arrays of arrays of etc. Entity Metadata Wrapper wraps around an entity, and provides more object-oriented routes to reading and modifying its properties: fields, author UID, status etc. It especially removes the pain of guessing: what language key do I use for this field? is it "und"? is it "en"? <a href="https://drupal.org/node/1021556">This EMW quick overview</a> is slightly less helpful, but only because there's a lot to cover in EMW. For complex fields like links or rich text, <a href="http://dropbucket.org/node/1563">a handdful of examples really helps</a>.</dd>
</dl><p>In summary: EFQ provided me with a list of node IDs to iterate over; EMW wrapped around each loaded node in turn so I could modify the fields. Below is the finished script, with comments explaining aspects of it.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span class="kw2">&lt;?php</span>
 
<span class="co1">// Search for publication nodes of publication type "report".</span>
<span class="re0">$efq</span> <span class="sy0">=</span> <span class="kw2">new</span> EntityFieldQuery<span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
<span class="re0">$efq</span>
  <span class="co1">// Conditions on the entity - its type and its bundle ("sub-type")</span>
  <span class="sy0">-&gt;</span><span class="me1">entityCondition</span><span class="br0">(</span><span class="st_h">'entity_type'</span><span class="sy0">,</span> <span class="st_h">'node'</span><span class="br0">)</span>
  <span class="sy0">-&gt;</span><span class="me1">entityCondition</span><span class="br0">(</span><span class="st_h">'bundle'</span><span class="sy0">,</span> <span class="st_h">'publication'</span><span class="br0">)</span>
  <span class="co1">// Conditions on the entity's fields</span>
  <span class="co1">// * a "sub-sub-type" we use for publications.</span>
  <span class="sy0">-&gt;</span><span class="me1">fieldCondition</span><span class="br0">(</span><span class="st_h">'field_publication_type'</span><span class="sy0">,</span> <span class="st_h">'value'</span><span class="sy0">,</span> <span class="st_h">'report'</span><span class="br0">)</span>
  <span class="co1">// * check for a full-text version of the body: once processed, this is empty.</span>
  <span class="sy0">-&gt;</span><span class="me1">fieldCondition</span><span class="br0">(</span><span class="st_h">'field_body'</span><span class="sy0">,</span> <span class="st_h">'value'</span><span class="sy0">,</span> <span class="st_h">''</span><span class="sy0">,</span> <span class="st_h">'!='</span><span class="br0">)</span><span class="sy0">;</span>
 
<span class="co1">// Execute, returning an array of arrays.</span>
<span class="re0">$result</span> <span class="sy0">=</span> <span class="re0">$efq</span><span class="sy0">-&gt;</span><span class="me1">execute</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
 
<span class="co1">// Ensure we've got some node results.</span>
<span class="kw1">if</span> <span class="br0">(</span><span class="sy0">!</span><a href="http://www.php.net/isset"><span class="kw3">isset</span></a><span class="br0">(</span><span class="re0">$result</span><span class="br0">[</span><span class="st_h">'node'</span><span class="br0">]</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">{</span>
  drush_log<span class="br0">(</span><span class="st0">"No nodes to process."</span><span class="sy0">,</span> <span class="st0">"ok"</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="kw1">return</span><span class="sy0">;</span>
<span class="br0">}</span>
 
<span class="co1">// Iterate over the result, loading each node at a time.</span>
<span class="kw1">foreach</span><span class="br0">(</span><span class="re0">$result</span><span class="br0">[</span><span class="st_h">'node'</span><span class="br0">]</span> <span class="kw1">as</span> <span class="re0">$nid</span> <span class="sy0">=&gt;</span> <span class="re0">$stub_node</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// Load the full node and wrap it with entity_metadata_wrapper().</span>
  <span class="re0">$node</span> <span class="sy0">=</span> node_load<span class="br0">(</span><span class="re0">$nid</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="re0">$wrapped_node</span> <span class="sy0">=</span> entity_metadata_wrapper<span class="br0">(</span><span class="st0">"node"</span><span class="sy0">,</span> <span class="re0">$node</span><span class="br0">)</span><span class="sy0">;</span>
 
  <span class="co1">// If there's a full-text field_body, swap it into the summary;</span>
  <span class="co1">// then delete that full version, so it's blank, and save.</span>
  <span class="re0">$full_body</span> <span class="sy0">=</span> <span class="re0">$wrapped_node</span><span class="sy0">-&gt;</span><span class="me1">field_body</span><span class="sy0">-&gt;</span><span class="me1">value</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="kw1">if</span> <span class="br0">(</span><span class="re0">$full_body</span><span class="br0">[</span><span class="st0">"value"</span><span class="br0">]</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="re0">$full_body</span><span class="br0">[</span><span class="st0">"summary"</span><span class="br0">]</span> <span class="sy0">=</span> <span class="re0">$full_body</span><span class="br0">[</span><span class="st0">"value"</span><span class="br0">]</span><span class="sy0">;</span>
    <span class="re0">$full_body</span><span class="br0">[</span><span class="st0">"value"</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">""</span><span class="sy0">;</span>
    <span class="re0">$wrapped_node</span><span class="sy0">-&gt;</span><span class="me1">field_body</span><span class="sy0">-&gt;</span><span class="me1">set</span><span class="br0">(</span><span class="re0">$full_body</span><span class="br0">)</span><span class="sy0">;</span>
    <span class="re0">$wrapped_node</span><span class="sy0">-&gt;</span><span class="me1">save</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
  <span class="br0">}</span>
 
  <span class="co1">// Log our progress.</span>
  drush_log<span class="br0">(</span><span class="st0">"Processed nid=<span class="es4">{$node-&gt;nid}</span>, title=<span class="es4">{$node-&gt;title}</span>"</span><span class="sy0">,</span> <span class="st0">"ok"</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span></pre></div>
<p>EFQ and EMW both worked together really well, and it felt clear to me what was going on, and where bugs or problems might arise. I can heartily recommend using them both, separately or together.</p>
</div></div></div><div id="comments" class="comment-wrapper">
          <h2 class="title">Comments</h2>
      
  <a id="comment-180"></a>
<div class="comment comment-by-anonymous clearfix">

  <div class="attribution">

    
    <div class="submitted">
      <p class="commenter-name">
        <span class="username">Evgeny (not verified)</span>      </p>
      <p class="comment-time">
        Tue, 03/06/2014 - 03:40      </p>
      <p class="comment-permalink">
        <a href="180.html#comment-180" class="permalink" rel="bookmark">Permalink</a>      </p>
    </div>
  </div>

  <div class="comment-text">
    <div class="comment-arrow"></div>

    
    <div style='display: none;'>    <h3><a href="180.html#comment-180" class="permalink" rel="bookmark">Just for the sake of</a></h3>
    </div>
    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>Just for the sake of optimization it's probably worth using node_load_multiple() here instead of node_load in a loop. Aside from that a very interesting read - definitely bookmarking!</p>
</div></div></div>          </div> <!-- /.content -->

    <ul class="links inline"><li class="comment-reply first last"><a href="reply/529/180.html">reply</a></li>
</ul>  </div> <!-- /.comment-text -->
</div>

<div class="indented"><a id="comment-181"></a>
<div class="comment comment-by-node-author clearfix">

  <div class="attribution">

    
    <div class="submitted">
      <p class="commenter-name">
        <span class="username">jp.stacey</span>      </p>
      <p class="comment-time">
        Tue, 03/06/2014 - 08:41      </p>
      <p class="comment-permalink">
        <a href="181.html#comment-181" class="permalink" rel="bookmark">Permalink</a>      </p>
    </div>
  </div>

  <div class="comment-text">
    <div class="comment-arrow"></div>

    
    <div style='display: none;'>    <h3><a href="181.html#comment-181" class="permalink" rel="bookmark">That&#039;s certainly a good point</a></h3>
    </div>
    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>That's certainly a good point, but I would be wary of using node_load_multiple() if you're going to have very large result sets. It's fine IMHO to use it for maybe 5 or 10 nodes (e.g. a nodereference or entityreference field) but the data I've been working on has returned 100s or 1000s of them.</p>
<p>At that point, you would want to: load each node in turn; keep overwriting the $node and $wrapped_node variables; and let PHP's garbage collection remove the older nodes and EMW objects from memory for you (it might need an unset() hint, I'm not sure.) However, if you're loading the whole data set at the start, then doing more complex manipulations on each node in turn, then on big, complex sites you're liable to run out of memory before you finish.</p>
<p>It's definitely worth looking at on a case-by-case basis, though.</p>
</div></div></div>          </div> <!-- /.content -->

    <ul class="links inline"><li class="comment-reply first last"><a href="reply/529/181.html">reply</a></li>
</ul>  </div> <!-- /.comment-text -->
</div>
</div><a id="comment-212"></a>
<div class="comment comment-by-anonymous clearfix">

  <div class="attribution">

    
    <div class="submitted">
      <p class="commenter-name">
        <span class="username">nithinkolekar (not verified)</span>      </p>
      <p class="comment-time">
        Thu, 09/04/2015 - 18:09      </p>
      <p class="comment-permalink">
        <a href="212.html#comment-212" class="permalink" rel="bookmark">Permalink</a>      </p>
    </div>
  </div>

  <div class="comment-text">
    <div class="comment-arrow"></div>

    
    <div style='display: none;'>    <h3><a href="212.html#comment-212" class="permalink" rel="bookmark">Nice and simple article but</a></h3>
    </div>
    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>Nice and simple article but</p>
<blockquote><p>third-party <a href="https://drupal.org/project/entity">Entity API</a> module</p>
</blockquote>
<p>sounds too commercial where that module(and almost all) is contributed one :)</p>
</div></div></div>          </div> <!-- /.content -->

    <ul class="links inline"><li class="comment-reply first last"><a href="reply/529/212.html">reply</a></li>
</ul>  </div> <!-- /.comment-text -->
</div>

<div class="indented"><a id="comment-213"></a>
<div class="comment comment-by-node-author clearfix">

  <div class="attribution">

    
    <div class="submitted">
      <p class="commenter-name">
        <span class="username">jp.stacey</span>      </p>
      <p class="comment-time">
        Thu, 09/04/2015 - 18:33      </p>
      <p class="comment-permalink">
        <a href="213.html#comment-213" class="permalink" rel="bookmark">Permalink</a>      </p>
    </div>
  </div>

  <div class="comment-text">
    <div class="comment-arrow"></div>

    
    <div style='display: none;'>    <h3><a href="213.html#comment-213" class="permalink" rel="bookmark">Thanks, but I&#039;ve found from</a></h3>
    </div>
    <div class="content">
      <div class="field field-name-comment-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>Thanks, but I've found from my clients that people who aren't used to Drupal's terminology don't generally understand what "contributed" means. People "contribute" to Drupal core, after all, so Drupal core is "contributed" as far as they're concerned.</p>
<p>"Third party" makes it clearer that it's separate from the main Drupal project, and it doesn't sound at all commercial to me: but then I very rarely work with any commercial software.</p>
</div></div></div>          </div> <!-- /.content -->

    <ul class="links inline"><li class="comment-reply first last"><a href="reply/529/213.html">reply</a></li>
</ul>  </div> <!-- /.comment-text -->
</div>
</div>
  </div>
</div>

  </div>
</div>
  </div>
      
    </div></div> <!-- /.section, /#content -->

          <div id="sidebar-second" class="column sidebar"><div class="section">
          <div class="region region-sidebar-second">
    <div id="block-block-7" class="block block-block">

    <h2>I&#039;m a Drupal Association member!</h2>
  
  <div class="content">
    <div style="margin: -15px 0"><a href="https://drupal.org/user/130486"><img src="https://association.drupal.org/files/Drupal_Association_ind_member_217_0.png" alt="My individual membership of the Drupal Association" title="You can view my DA membership on drupal.org" width="168" height="168" /></a></div>
  </div>
</div>
<div id="block-block-10" class="block block-block">

    <h2>Drupal 8 API tutorials</h2>
  
  <div class="content">
    <p>Want to learn about the Drupal 8 APIs, with worked examples? <a href="/d8api.html">Follow my series of tutorials</a>, covering routing, caching, entities, config and much more!</p>
  </div>
</div>
<div id="block-stateblock-stateblock" class="block block-stateblock">

    <h2>Want to hire me?</h2>
  
  <div class="content">
    <a href="../contact.html"><section class="state-no">
  <header>I'm currently</header>
  <section class="state-description">fully booked</section>
  <footer>for freelance work. But you can click here to contact me!</footer>
</section></a>  </div>
</div>
<div id="block-ds-extras-blogpost-secondary-nav" class="block block-ds-extras">

    
  <div class="content">
    <div class="field field-name-taxonomy-vocabulary-6 field-type-taxonomy-term-reference field-label-above clearfix"><h3 class="field-label">Blog category: </h3><ul class="links"><li class="taxonomy-term-reference-0"><a href="../category/wordpress-category/hacking.html">hacking</a>, <a href="../category/wordpress-category/quickies.html">quickies</a></li></ul></div><div class="field field-name-taxonomy-vocabulary-7 field-type-taxonomy-term-reference field-label-above clearfix"><h3 class="field-label">Tags: </h3><ul class="links"><li class="taxonomy-term-reference-0"><a href="../category/tags/entity.html">entity</a>, <a href="../category/tags/rules.html">rules</a>, <a href="../category/tags/drush.html">drush</a>, <a href="../category/tags/bulk.html">bulk</a>, <a href="../category/tags/oo.html">oo</a></li></ul></div>  </div>
</div>
<div id="block-views-recent-blog-block-1" class="block block-views">

    <h2>Recent blogposts</h2>
  
  <div class="content">
    <div class="view view-recent-blog view-id-recent_blog view-display-id-block_1 view-dom-id-c6ad6a74b9ae6b6c21905a14d5aa9383">
        
  
  
      <div class="view-content">
        <ul>
    <li class="first odd">
      
      <h3>
  
    
      <a href="../blog/2017-07-21/altering-length-drupal-8-text-field-contains-data.html">Altering the length of a Drupal 8 text field that contains data</a>
      </h3>
  

      <div>
  
    
      Friday, July 21, 2017 - 11:31
      </div>
  
    </li>
      <li class="even">
      
      <h3>
  
    
      <a href="../blog/2017-06-02/menagerie-testing-behavioural-unit-system-smoke-regression-oh-my.html">A menagerie of testing: behavioural, unit, system, smoke, regression, oh my!</a>
      </h3>
  

      <div>
  
    
      Friday, June 2, 2017 - 10:11
      </div>
  
    </li>
      <li class="last odd">
      
      <h3>
  
    
      <a href="../blog/2017-05-30/including-javascript-behat-tests-all-inside-headless-virtual-machine.html">Including Javascript in Behat tests, all inside a headless, virtual machine</a>
      </h3>
  

      <div>
  
    
      Tuesday, May 30, 2017 - 16:51
      </div>
  
    </li>
    </ul>
    </div>
  
  
  
      
<div class="more-link">
  <a href="../blog_view.html">
    All blogposts  </a>
</div>
  
  
  
</div>  </div>
</div>
<div id="block-block-5" class="block block-block">

    <h2>About me</h2>
  
  <div class="content">
    <p>I'm J-P Stacey, and I'm a freelance technical developer and software architect, working with <a href="http://drupal.org/">Drupal</a>, Javascript, Symfony, PHP and devops, with experience in project and process management and an emphasis on usability.</p>
<p>I live in the <a href="http://gov.uk">UK</a>; my website is self-hosted on <a href="http://bigv.io">bigv.io</a>; my email is hosted by <a href="http://mail.google.com">Google</a>, and that's also what I use to share files. <small>(<a href="https://data-jurisdiction.org/country/GB">More info</a>|<a href="/blog/2013-08-20/what-jurisdiction-am-i-in.html">What is this?</a>)</small></p>
  </div>
</div>
<div id="block-menu-secondary-menu" class="block block-menu">

    <h2>Find me elsewhere</h2>
  
  <div class="content">
    <ul class="menu clearfix"><li class="first leaf"><a href="http://twitter.com/mphield" title="My commercial account on Twitter">Company @ Twitter</a></li>
<li class="leaf"><a href="http://drupal.org/user/130486" title="Drupal user #130486: woohoo!">Drupal @ d.o</a></li>
<li class="leaf"><a href="http://github.com/jpstacey" title="My code repositories on Github">Code @ Github</a></li>
<li class="leaf"><a href="http://flickr.com/photos/eustatius" title="My photos on Flickr">Photos @ Flickr</a></li>
<li class="last leaf"><a href="http://pinboard.in/u:jpstacey" title="My links on the Pinboard bookmarking site">Links @ Pinboard</a></li>
</ul>  </div>
</div>
  </div>
      </div></div> <!-- /.section, /#sidebar-second -->
    
  </div></div> <!-- /#main, /#main-wrapper -->

  
  <div id="footer-wrapper"><div class="section">

    
    
  </div></div> <!-- /.section, /#footer-wrapper -->

</div></div> <!-- /#page, /#page-wrapper -->
  </body>
</html>
