<!DOCTYPE html>
<html lang="en" version="XHTML+RDFa 1.0" dir="ltr">
<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../../sites/files/jps/starberry_favicon.png" type="image/png" />
<meta name="generator" content="Drupal 7 (https://www.drupal.org)" />
<link rel="canonical" href="my-drupalcon-amsterdam-notes.html" />
<link rel="shortlink" href="../../node/556.html" />
  <title>My Drupalcon Amsterdam notes | J-P Stacey</title>
  <link type="text/css" rel="stylesheet" href="../../sites/files/jps/css/css_xE-rWrJf-fncB6ztZfd2huxqgxu4WO-qwma6Xer30m4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../sites/files/jps/css/css_jdej_Zz2sjg--A2C2aVJ-Qt5W-fI_fkFnsddutilsws.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../sites/files/jps/css/css_A3Qn9PgslsjDpW1HfgFuI26cQlhJ23E7y9wyYqpiJIA.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../sites/files/jps/css/css_0Heb-O6YY5Tn5xG4WrHtAAXZCtYk-eKiVo7PlP1bsg4.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../sites/files/jps/css/css_2THG1eGiBIizsWFeexsNe1iDifJ00QRS9uSd03rY9co.css" media="print" />

<!--[if lte IE 7]>
<link type="text/css" rel="stylesheet" href="http://jpstacey.lndo.site/sites/default/themes/custom/barthes/css/ie.css?qfgo2z" media="all" />
<![endif]-->

<!--[if IE 6]>
<link type="text/css" rel="stylesheet" href="http://jpstacey.lndo.site/sites/default/themes/custom/barthes/css/ie6.css?qfgo2z" media="all" />
<![endif]-->
  <script type="text/javascript" src="../../sites/files/jps/js/js_vDrW3Ry_4gtSYaLsh77lWhWjIC6ml2QNkcfvfP5CVFs.js"></script>
<script type="text/javascript" src="../../sites/files/jps/js/js_gPqjYq7fqdMzw8-29XWQIVoDSWTmZCGy9OqaHppNxuQ.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-4775024-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"barthes","theme_token":"JSmkDBR17hBVdW1Ko9Pc02rjBnlng12Fz4VPx0EkZTE","js":{"misc\/jquery.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/comment\/comment.css":1,"sites\/all\/modules\/date\/date_api\/date.css":1,"sites\/all\/modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/mollom\/mollom.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/media\/modules\/media_wysiwyg\/css\/media_wysiwyg.base.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"public:\/\/geshi\/geshifilter-languages.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"themes\/bartik\/css\/layout.css":1,"themes\/bartik\/css\/style.css":1,"sites\/default\/themes\/custom\/barthes\/css\/colors.css":1,"sites\/default\/themes\/custom\/barthes\/css\/custom.css":1,"themes\/bartik\/css\/print.css":1,"sites\/default\/themes\/custom\/barthes\/css\/ie.css":1,"sites\/default\/themes\/custom\/barthes\/css\/ie6.css":1}},"googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip"}});
//--><!]]>
</script>
</head>
<body class="html not-front not-logged-in one-sidebar sidebar-second page-node page-node- page-node-556 node-type-blog" >
  <div id="skip-link">
    <a href="my-drupalcon-amsterdam-notes.html#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div id="page-wrapper"><div id="page">

  <div id="header" class="with-secondary-menu"><div class="section clearfix">

    
          <div id="name-and-slogan">

                              <div id="site-name">
              <strong>
                <a href="../../index.html" title="Home" rel="home"><span>J-P Stacey</span></a>
              </strong>
            </div>
                  
                  <div id="site-slogan">
            Drupal, programming culture, gardening, cycling and the environment          </div>
        
      </div> <!-- /#name-and-slogan -->
    
    
    
          <div id="secondary-menu" class="navigation">
        <h2 class="element-invisible">Secondary menu</h2><ul id="secondary-menu-links" class="links inline clearfix"><li class="menu-7322 first"><a href="../../cv.html" title="My curriculum vitae">CV</a></li>
<li class="menu-7320 last"><a href="../../contact.html" title="">Contact me</a></li>
</ul>      </div> <!-- /#secondary-menu -->
    
  </div></div> <!-- /.section, /#header -->

  
  
  <div id="main-wrapper" class="clearfix"><div id="main" class="clearfix">

    
    
    <div id="content" class="column"><div class="section">
            <a id="main-content"></a>
                    <h1 class="title" id="page-title">
          My Drupalcon Amsterdam notes        </h1>
                          <div class="tabs">
                  </div>
                          <div class="region region-content">
    <div id="block-system-main" class="block block-system">

    
  <div class="content">
    <div  class="ds-1col node node-blog node-promoted node-full view-mode-full clearfix">

  
  <div class="field field-name-post-date field-type-ds field-label-hidden"><div class="field-items"><div class="field-item even">Sunday, October 5, 2014 - 18:50</div></div></div><div class="field field-name-field-body field-type-text-long field-label-hidden"><div class="field-items"><div class="field-item even"><p>Here are my notes from <a href="my-drupalcon-amsterdam-notes.html">Drupalcon Amsterdam</a>, culled from Google Docs and minimally formatted. They're likely to be of more value to future generations than right at this minute.</p>
<hr /><p><em>Edit: <a href="https://docs.google.com/document/d/1SD_9ebb2gvOBdVrNQtaF3TQMOjsQp_pqHFyVk4WtPS0/edit#heading=h.z12p95gko2bu">OxDUG notes</a></em></p>
<h2>Tuesday 30 September</h2>
<h3>State of Drupal: Dries Buytaert</h3>
<p>China/Japan: held back by translations/leadership<br />
[Going outside any comfort zone (e.g. Western Englishspeaking) means learning about deficits one never knows one has had all along]<br />
Getting community to write Driesnote a good way to unearth what we don't know</p>
<p>Let's talk about public goods: none-excludable, non-rivalrous<br />
Public and OS in general is one<br />
Other public goods: the Ridgeway - road since 3000BC, created by volunteers<br />
Volunteers-&gt;business-&gt;government [really?]<br />
Invention-&gt;product-&gt;utility<br />
Volunteers are (still) crucial</p>
<p>Tragedy of the Commons. Still a commons in Boston!<br />
Caretakers of the commons ("I look after the land I use") vs Free-riders of the commons ("George will do it")<br />
Helping a little bit is a no-brainer; why don't we?<br />
As you grow, the cost of contributing increases &amp; the benefit decreases<br />
e.g. we used to do a slide of core contrib photos; now it's just a tag cloud of names</p>
<p>Freeriders aren't bad: they evangelise; they are potential caretakers.<br />
Yet the caretaker/freerider ratio decreases with size; how do we make it increase?<br />
Common tactics: Privatization, legislation, altruism, taxation, social capital, reducing costs, privileged groups</p>
<p>What tactics work for us? Well, what are the caretaker costs?<br />
1. d.o has been spun out of the costs, delegated to DA<br />
2. Removing NIH has spun libraries out of costs, delegated to Symfony<br />
3. But core got bigger as a result<br />
Need to start thinking about simplifying until we can simplify no further.</p>
<p>Can we get companies to see benefit in hiring core contributors?<br />
A "contributor" is not always an individual: also web agencies and end users<br />
Can we bring companies into commit messages? [!]<br />
Marketizing [very limited types of] contribution<br />
Adverts on the d.o homepage?<br />
Can we set up a complex rankification device, to balance contributions against each other?<br />
[Is this not just "We need to do something!" "Here is something!" "We need to do it!"]</p>
<p>What about Drupal end users<br />
Hiring new talent is hard: 92% pool too small; 82% will hire in next 6mth<br />
Drupal jobs: flag big contributing companies to show they're good to work for<br />
Individual user profile improvements [Open Badges!]</p>
<p>The cycle of incentivization can help address the problems people came up with to talk about: innovation, release schedule, funding core dev, sustainability, developer burnout</p>
<p>D8: we had zero blockers<br />
Found one more on Mon!<br />
Talked about it Mon p.m.<br />
FIXED IT early Tue.</p>
<p>Beta 1 releases THIS WEEK!<br />
Still very beta<br />
Core contribs stand up; but also - given discussion so far - their companies also stand up.</p>
<h3>D8 crash course: Larry Garfield</h3>
<p>Controllers can still return strings or render arrays: but they can now also raise exceptions.<br />
Controllers get a request object - the Symfony way (by introspection) - (... Request $request) { ... and URL templates in routing.yml</p>
<p>Drupal is about: building tools; then wiring it into the system<br />
So: Extend a base class/interface; tell Drupal about it</p>
<p>Module is a folder with a YAML file - and that's it.<br />
Make a page? Extend a base class, wire it up.<br />
  1. Make a controller extending ControllerBase - PSR-4 means it's automatically available everywhere.<br />
  2. routing.yml registers your URL</p>
<p>Templating: ./template/{theme_key}.html.twig<br />
Config:<br />
*	config/install/{module}.settings.yml with default variable values on install<br />
*	config/schema/{module}.settings.yml for schema-like data; can e.g. turn on translation<br />
Form to manage config: src/Form/{FormClass}.php<br />
*	Extend ConfigFormBase<br />
*	defaults: _form: Drupal\{module}\Form\{ClassName} in routing.yml<br />
Menu items: add default values for URLs; validate URL values.</p>
<p>Plugins; plugin types. How blocks work.<br />
D7 extensibility - info hooks, but little else in common. Ctools, features etc. have all their own system.<br />
D8 extensibility - User-configurable logic? Plugins. Interface, manager class, done.<br />
JUST PUT THE FILE IN THE RIGHT PLACE AND DRUPAL FINDS IT</p>
<p>Can place blog multiple times now<br />
Overriding methods extends the block configuration form</p>
<p>State tracker: write a class<br />
Register in services.yml<br />
Controllers aren’t registered on a container; but controller classes have a static method<br />
On the block, we pass the same service through, implementing the ContainerFactoryPluginInterface</p>
<p>Entities; content entities<br />
Controller method argument autodetected as per Symfony: (NodeInterface $node)<br />
Nodes are actual objects with methods! $node-&gt;isPublished()<br />
Even $node-&gt;body-&gt;value [entity_metadata_wrapper no longer needed]</p>
<p>When to use annotations?<br />
What something is? Annotation<br />
Where something is? YAML<br />
(A rough approximation)</p>
<p>Guidelines:<br />
Smaller classes/methods<br />
Stupid glue-code controllers: no 300-line page callbacks!<br />
Logic in services instead<br />
Not a DB query in sight?<br />
*	Store information? Entities, configuration, state.<br />
*	[Reading in bulk? EFQs?]<br />
*	This way you can move [select bits] to NoSQL if you need to.<br />
*	If it's hard to test, you're probably doing it wrong</p>
<h3>Open Badges: Rachel Lawson</h3>
<p>You learn things every day that can be useful to your work<br />
But the evidence of what you learned is scattered, or doesn't exist</p>
<p>Scout badges; for Drupal? Badges on laptops. But how do you know the badge is "valid"?</p>
<p>Mozilla Open Badges<br />
Standard for showing evidence of achievement<br />
Issuer, Displayer, Backpack<br />
Badge power can collect badges in different collections: only some public</p>
<p>Badges are just JSON, with salt and encrypted values</p>
<p>Example: paincommunitycentre.org<br />
CPD - wanted to issue badges<br />
First thing: explain to people.</p>
<p>One website can interrogate the backpack provider and get badges e.g. from other providers.</p>
<p>To build in d.o:</p>
<p>* Achievements module - already present on d.o<br />
* amobb module<br />
* Implemented certain one-off badges and also badges when they get e.g. above a certain number of replies to forum posts</p>
<p>But you don't have to use this method - badges are just images and JSON.</p>
<p>Profiles are being improved<br />
But the DA can't do everything<br />
And this federates away the hard work to many loosely coupled providers</p>
<p>Many organizations should have the chance to do certification<br />
This way we don't e.g. hardcode only one big player being able to show certification<br />
Not just Acquia v Lullabot - also Drupalcamps.</p>
<h3>Contrib module update: various (presented by Michael Schmid)</h3>
<h4>Rules: Josef Dabernig</h4>
<p>d8rules: looking at crowdsourcing; you can contribute and get a rule(r) - one for each E45 (cost of a dev in Wien)</p>
<h4>Panels: Jakob Perry</h4>
<p>Page manager project<br />
Layout module - decision needs to be made: right now, it's in contrib<br />
(frega's) layout plugin<br />
Maybe ctools not required in D8?<br />
David Snopek made a Panels Layout Variant - PoC broken by D8 core pivots!<br />
Looking at a migration path...<br />
Similar to D7 in appearance.<br />
Spark initiative - still going but not coupled to Panels development</p>
<h4>Media: Dave Reid &amp; Yannis Karampelas</h4>
<p>Been problematic e.g. WYSIWYG doesn't always work<br />
D8: Fixing issues from ground up<br />
Learn from Skald<br />
Split things up!</p>
<p>Entity Browser - separate project. General entity browsing tool<br />
Media entity - "not everything is a file"; works heavily with fields, straightforward remote resource (e.g. oEmbed)<br />
File entity - does so much right now, that needs to be splitted out<br />
Fallback formatter - For any field with more than one formatter - if one file formatter returns nothing, define fallbacks<br />
Weekly scrum meetings, g.d.o/media - contrib sprint on Friday</p>
<p>Embedding of images now works in core<br />
Estimate: when it's done; they don't have funding (yet)</p>
<h4>Search API: Thomas Seidl</h4>
<p>Architecture should remain unchanged<br />
Looking at a way to solve problems more efficiently based on D7 experience<br />
Focus on flexibility and UX</p>
<p>Flexibility: indexes won't be restricted to a particular entity type<br />
UX: revising interface, standardizing terminology<br />
Planned: simplified wizard; docs via Tour module<br />
Status: existing func ported; a lot of improvements still to do; but some people are using it in production<br />
D8 &amp; Solr? - only Search API.<br />
Other backends: DB Backend, Elastic Search (partially)<br />
Facets: we don't know yet.<br />
Multilingual search: all in Search API framework.</p>
<h4>Commerce: Bojan Zivanovic</h4>
<p>1.x: 50,000 live installs<br />
Getting off the island: so develop libraries and separate out</p>
<p>commerceguys/intl - currency formatting e.g. per-locale Euros formatting<br />
D8 uses Unicode CLDR for country list<br />
Commerce is going to use it for dynamic currency formatting based on language</p>
<p>commerceguys/addressing - replaces AddressField<br />
AF had to have manual address fields; but there's a Google dataset</p>
<p>commerceguys/zone e.g. "European Union" or "Europe and Middle East Asia"<br />
For taxes or shipping: reduces those rules</p>
<p>commerceguys/tax: most ambitious. Bring in Commerce VAT and Commerce UAT<br />
Cover as many common use cases as possible</p>
<p>Module on github; using Travis Build Bot to run own tests &amp; d.o bot doesn't run Composer</p>
<h3>BoF: freelancers unite (briefly!)</h3>
<p>(No notes)</p>
<h2>Wednesday 1 October</h2>
<h3>Keynote: Cory Doctorow</h3>
<p>Motif about freedom in software: about whether information wants to be free<br />
Information wants not one thing; if it did, who cares?<br />
People want to be free, and cannot in the inf age without free software.</p>
<p>Computers are everywhere: your car is a computer you sit inside.<br />
Planes, walkmans, iPods, hearing aids.<br />
"Can I have that powerpoint?" "I'm charging my laptop." "I need to charge my leg before the flight." "... Yeah, it's all yours."</p>
<p>Alchemy looked like science; but alchemists never got the reality check of e.g. peer review. So it did not progress: everyone had to learn from scratch.<br />
Security only works if it's open; otherwise all you've got is a system that works on people stupider than you.</p>
<p>In a sane world, we'd only accept the FLOSS model for *everything* e.g. building conference centres:<br />
"We're not going to tell you how we calculated your load stresses because that's what gives us a competitive edge."</p>
<p>Every problem has a computer at the middle of it; but lawmakers do not understand what that means.<br />
They think a computer is a bit like any other product: inherently regulatable.<br />
You can't say "make me a computer that's incapable of running a program that's harmful".</p>
<p>But we still try: Region-specific DVDs; Apple-signed code. It's become a feature of law.<br />
If you're still making the same mistake about the internet after all these years, you're stupid.<br />
Laws to prevent revelation of bugs in DRM systems: means that's the most insecure aspect of your computer.</p>
<p>Leaking of e.g. recent photos comes from people waging war on the freedom of computers this way.<br />
If you don't (aren't allowed) to know what your browser is doing, you're at ultimate risk.<br />
If you don't know what your remote-access home thermostat is doing, the power company can collude with the government to turn the heating off if your phone is detected at a protest.</p>
<p>DRM is disempowering encryption; but in doing so, it has to give everyone the same keys and hope that not one in a billion of us works out how to use them.<br />
DRM not like ordinary encryption: fundamentally disempowering and controlling. This permeates the craziness of its architecture.</p>
<p>We need to make this a big social and political problem. We need to take this to parliaments and congresses.<br />
I have hope, if not optimism.<br />
Not enough to have free software; we have to have activism.</p>
<p>Three strikes rule: what does that *mean*?<br />
Martha Lane Fox asked PwC about digital inclusion<br />
Social housing estate experiment: given them free internet access.<br />
EVERYTHING CHANGED - all measures we use to measure QoL<br />
Better education; more likely to go on to tertiary; more socially mobile; more politically aware; more likely to vote.<br />
That single wire gave everything: freedom of speech, a free press, improved health.<br />
The Secretary of State could at his discretion "if you watch TV the wrong way, we cut all that off from you."</p>
<p>If we can't trust these tools, we've lost this fight.</p>
<p>(While a long rambling statement followed by "what do you think" is technically a question, it's not a good one.)</p>
<p>I love cool hardware, but if you're buying it from the fruit company that's normalized DRM then that's part of the problem.</p>
<h3>Content staging: Dick Olsson</h3>
<p>Learn from UUID etc. in D7<br />
Revisions, conflict, dependency, ad-hoc/continuous, bidirectional, REST</p>
<p>How to build:<br />
Core: serialization srvices, entity<br />
Contrib: Multiversion &amp; Relaxed Content</p>
<p>Multiversion: tracks update sequencies to make dependency management better (Which module is adding to this node?)<br />
Look at it more like a NoSQL database document object and replay changes; tracking revision trees in a git-like way<br />
UUIDs based on MD5 hash of changes. Easier to detect conflicts without deep inspection or asking network<br />
Uses JSON as its serialization format [? not valid JSON on slide, though]<br />
CRAP not CRUD (Archive and Purge: we never delete.) This means we can "replicate" deletions.<br />
"Compaction" available as a real deletion of old revisions.</p>
<p>relaxed.module - restful/"relaxed" JSON API Endpoints for all content entities and file attachments, comparing revisions, start/stop replications etc.<br />
Drush plugin</p>
<p>deploy.module - simple UI focussed on staging</p>
<p>How replication works:<br />
1. compare UUIDs<br />
2. get target site checkpoint ("when was last replicated")<br />
3. get changes since checkpoint from source<br />
4. pass all changes to target site<br />
5. collect all missing revisions from source<br />
6. POST to bulk ops on target<br />
7. reset checkpoint<br />
A lot less comms over HTTP than in D7, because HTTP is inherently unreliable</p>
<p>Does not have a live demo yet? But good test coverage.<br />
Lots of functionality "already there", so workable</p>
<p>Reusing protocols: revision/conflict detection model same as git/CouchDB's. Don't use storage; just protocol.<br />
CouchDB figured out HTTTP replication; so we should just use that!</p>
<p>This leads to us being "CouchDB/PouchDB/TouchDB"-compatible<br />
Can support Headless Drupal: AngularJS  PouchDB  D8</p>
<h3>Drupal 8 CMI: David Strauss &amp; Matt Cheney</h3>
<p>Configuration vs content<br />
Two different pillars of information<br />
Historically Drupal doesn't care: all in the DB</p>
<p>Features is a 2009 solution for this. Some might not like it, but it works.<br />
But features is contrib - not fully integrated - and not intended to be full solution for storing D7 config<br />
UUIDs, dealing with state/changing data structures etc.</p>
<p>Proudly Invented Elsewhere: not NIH.<br />
So we trashed Drupalisms: No New Parser. Don't use info files.<br />
Started with XML but moved to YAML parser after move to Symfony.<br />
Symfony's Config library was good - but no good GUI support.</p>
<p>Inspiration: Jenkins does diskconfigGUI<br />
Goal: minimize impact on basic users; don't get in their way if they don't really use CMI</p>
<p>Multiple invironments, argh: want to keep config &amp; e.g. code integrating with a view in sync<br />
But D8 CMI only has one other extra step: like Features Revert, can be done with Drush<br />
Export-&gt;Commit-&gt;Deploy-&gt;Import</p>
<p>Wanted GUI to be extremely basic. Really clear on how to use.</p>
<p>Features - complicated semi-custom files and the diffs aren't guaranteed clean.<br />
CMI goal: should look beautiful on disk. Deterministic in e.g the order of fields<br />
CMI: node.type.blog.yml and field.instance.node.blog.body.yml - that's it.</p>
<p>Live demo: Pantheon offfering D8 beta<br />
Changing site name on dev; commit; then move to test and run "Synchronize"</p>
<p>Drush7 - six commands for (local-with-vim) edit, export, get, import, list, set<br />
$site_name = Drupal::config('system.site')-&gt;get('name');<br />
-&gt;set() and then -&gt;save() - Symfony model - make multiple changes at once and transact.</p>
<p>Only for this one environment? Use ::state()-&gt;set('key.with.dots', $var)<br />
Still got global $conf in settings.php [!!]</p>
<p>Some concepts available for D7. But suffers from limitations like Features.</p>
<p>Multiple languages e.g. locale.hu.{file.key}.yml overrides</p>
<p>Features? In D8, a feature will be a bundle of CMI files. What it was originally supposed to do - migrate packaged functionality.<br />
Other projects: config_readonly (locks config); config_inspector, _log, _tools</p>
<h3>Future-proof your Drupal 7 site: Dave Reid</h3>
<p>Make informed choices now; ease pain when switching to D8. Backport all the things!</p>
<p>Spark distribution - make lots of new modules in D7 with intent to bring into D8.</p>
<p>navbar.module - replace admin_menu and/or toolbar. Responsive-friendly. admin_select: different toolbar-y module per role<br />
quickedit.module - inline editing<br />
ckeditor.module - official WYSIWYG now<br />
responsive_bartik.theme - A nicer responsive Bartik<br />
HTML5: elements.module, html5_tools.module<br />
Views: well, yeah, everyone uses it - but it's in D8 core!<br />
admin_views, VBO (=lite in D8 core)<br />
Views Responsive Grid<br />
Responsive Tables<br />
Breakpoints module, supports:<br />
picture.module - responsive pictures<br />
joyride.module - Tours around the site - demos etc. "How do I X"<br />
instantfilter.module - Module page filtering. Like a tiny modulefilter.module, but then it supports lots of other lists of stuff<br />
Simplified menu admin<br />
Escape admin - what overlay was intending to support<br />
Caption_filter - uses HTML5 attributes, converts to HTML5 elements on the frontend - and is very nice<br />
BEAN<br />
Multiblock</p>
<p>New field types in D8 core that you can use in D7:<br />
entityreference - NOT nodereference or userreference. ER does e.g. configuring cascaded deletion of related nodes<br />
telephone.module - NOT phone. This is more similar to D7. Does very little validation: PHONE NUMBERS ARE HARD.<br />
email.module - D8 is a lite version of this<br />
date.module - BUT - use Date (ISO format) for forward compatibility</p>
<p>Development<br />
uuid.module - whenever you need to support UUIDs. You don't NEED it right now.<br />
render_cache and entity_modified - cache rendered node even for logged-in users; entity_modified expires it on mod<br />
composer_vendor and composer_manager</p>
<p>Plugins (Joachim documented it)<br />
Emulation in D7?<br />
* Hooks<br />
* CTools plugins - can be quite confusing<br />
* Roll your own - use interfaces and classes</p>
<p>Other stuff<br />
entity_view_mode - started in D7 but really supported in D8.<br />
CMI...?<br />
Migrate<br />
RESTful web services: restws and gizra/restful<br />
Translation: entity_translation and title.module</p>
<p>More things: PHPUnit, Symfony, Backbone.js, Underscore.js, Guzzle, JS local storage<br />
Distribution - for demo only, really - pred8.profile</p>
<p>Things you should probably stop using<br />
First check drupal.org/node/2116417</p>
<h3>Symfony2 best practice: Stefan Koopmanschap</h3>
<p>No notes: standing room only!</p>
<h3>BoF: Open Drupal</h3>
<p>(No notes: see opendrupal.org)</p>
<h2>Thursday 2 October</h2>
<h3>Lightning talks: hosted by Michael Schmid</h3>
<h4>Drupal &amp; Bitcoin: Jonathan Brown</h4>
<p>Shared autonomous ledger; consensus among peers; orders transactions to avoid double spending<br />
Git similar to blockchain, but usually pushes to a blessed server; but Gitchain<br />
Twister: Twitter implemented on a blockchain<br />
Bitmessage: whatsapp on a blockchain<br />
Blockchains can circumvent censorship (?)<br />
Drupal bitcoin projects: cointools; also startups</p>
<h4>The Unforeseen: Steve Parks</h4>
<p>Large orgs terrified of risk, the unforeseen. Tends to come from some mythical terrible project in their history<br />
So they put in ALL THE RULES. That'll fix it.<br />
Worse than that are the people who completely stick to the rules - all grinds to a halt.<br />
Welsh translation of sign<br />
Rules become crazy: Zippez prudement!<br />
Gaping void of trust<br />
Need proactive planning and TRUST<br />
We have to accept risk and go in with the right training, tools and attitude</p>
<h4>Druphpet: Aleh Kot</h4>
<p>Many dev stacks available<br />
But for big sites not enough: need debuggers, profilers, git standards, code quality, automation etc.<br />
Huge amount of tools production projects<br />
Puphpet<br />
Druphpet fork of Puphet: w/Samba, Solr, other features<br />
Use Vagrant<br />
Puphpet internal storage is JSON<br />
Customize this JSON<br />
Install Vagrant plugins and up</p>
<h4>Continuous Delivery: Michael Godeck</h4>
<p>As with Agile, CD's main aim is to mitigate risk<br />
Continuous Integration a cornerstone of CD, but build/deployment pipelines are central<br />
Break up build into stages<br />
Build pipelines are about rehearsing delivery</p>
<h4>D8in8: Stella Power</h4>
<p>Internal competition to get entire team learning Drupal 8<br />
8 Weeks to complete<br />
8 Minutes to present<br />
Judged by peeers<br />
8 points to distribute<br />
Managed to get responsiveness, photo gallery site, trivia game based on custom entities and node.js<br />
Winner: Andrew Macpherson: got core commits incl a Field API Beta blocker; ported modules etc.<br />
RUN A D8in8 competition!</p>
<h4>Drupal 8 console: Jesus Manuel Olivas</h4>
<p>Use Symfony Console component<br />
CLI-interactive creation of e.g. modules, like with Symfony bundles or entities<br />
Generate a controller; generate a form.<br />
Generate routing<br />
Wow<br />
Crell is to blame for this ace tool!</p>
<h4>Drupal security: Lee Kelsey</h4>
<p>Why does security take so long, especially to percolate through distributions?<br />
Security team hoping to be more transparent about their process and how it affects you.<br />
CONTACT LEE!</p>
<h3>Better UX through prototyping: Roy Scholten</h3>
<p>Important to create big IA of sitemap, but static deliverables are static. Wireframes can't tell the whole story</p>
<p>Prototype: why?<br />
Interactive deliverable easier to understand; results in better feedback.<br />
Behaviours: can be responsive from the start; manage expectations better. Shared quirks!</p>
<p>Quick iterations<br />
Easily shareable. People can use it on their own device.<br />
Forces you to make links really work.<br />
Reduces risk<br />
"A prototype is worth a thousand meetings"</p>
<p>Prototype: when?<br />
Process diagrams - so many of them out there.<br />
Follow a UX-driven one: do all your learning and brainstorming on the user experience first, and let that lead the prototype.<br />
"Double diamond" - prototyping in second and third quarters, separately on definition and execution phases (not sure about first).<br />
More honest representation of the process - "The Squiggle". But that's why you want to iterate.</p>
<p>Prototype: what?<br />
Focus on essentials e.g. login<br />
Focus on what it does, not how it looks</p>
<p>Prototype: how?<br />
Paper prototypes, interactive.<br />
What kind of sketch -&gt; What kind of prototype<br />
Paper - but cut up bits.<br />
Then wireframing tools but make clickable; Keynote?</p>
<p>Live HTML? It's not Drupal<br />
But can still use your own base theme - have it in your wireframe environment.<br />
Define executable PHP scripts that bring in the CSS.<br />
Focus on building screens - DON'T USE PATTERN LIBRARIES/REUSABLE COMPONENTS - yet. Too abstract, overhead.</p>
<p>Git version control and automatic builds: auto-upload on master</p>
<p>Prototype: who?<br />
Teamwork, not just info architect or designers<br />
"UX designer + UX developer"</p>
<p>Challenges<br />
Teamwork means you need availability, can encounter bottlenecks.<br />
NOT the branding. It's a functional prototype. Be clear. "It's not the branding design. It's ALLOWED to look a bit grey."<br />
Can become unwieldy<br />
Try it out, start small</p>
<p>- Questions -</p>
<p>You CAN respond to an existing third-party agency design with a prototype. Appeal to their wallet. Review the design and suggest prototyping. Be positive. If they're too wedded to the design, that's maybe a cue to not take on the project.</p>
<h3>Tour de Drupal BOF</h3>
<p>(No notes)</p>
<h3>Ember.js and Headless Drupal: Mikkel Høgh</h3>
<p>Ember.js - single page applications. Have browser not reload all the time. Inevitable model, driven by expectations.<br />
Different philosophy from e.g. Backbone. "Ambitious". Might not be for your blog.<br />
Full-stack MVC in the browser. MVC a bit old school - model meant to persist across user interactions in a desktop environment.<br />
Convention over configuration: less boilerplate code. e.g. naming conventions.<br />
Fully class-based object model (close to prototype-based e.g. Ember.Object.extend({}))</p>
<p>[Has a *server* component? Is that just holding static HTML?]</p>
<p>Two-way binding: on all Ember.Object inhstances. But in practice any object binding. TemplateModel.<br />
Computed properties: properties as functions. Does mean you have to use .get() and .set() everywhere.</p>
<p>How constructed.<br />
Dom/View/Template/Model/Controller/Route - all communicate via events, rather than directly coupled layers</p>
<p>Entry point is routing.<br />
Naming convention: route name-&gt; [CamelCase]Route and [CamelCase]Controller. So just define a route and a template. Every layer in between is optional with fallbacks.<br />
Router reacts to route change<br />
Loads data and injects into controller<br />
Knows about hierarchy of routes</p>
<p>Full model system<br />
Knows state of all data, which attributes to be saved, what has been persisted to the server.</p>
<p>Controller<br />
Holds and manages data; handles useer actions and provides context for template<br />
So detect when user presses cancel object<br />
Any data changes can be rolled back as long as the same context is preserved.<br />
Controller can direct - transition - to a new route</p>
<p>View<br />
Handles UI state; has direct DOM access; *can* handle user actions if it's not about data but about changing visuals</p>
<p>Template<br />
Handlebars - very Twig. Handles two-way bindings. Not really much logic.</p>
<p>Why with Drupal?<br />
Drupal handles ORM really well, gives a good UI<br />
Drupal good at REST services; services, restws and then into D8<br />
Often need a CMS anyway: info pages, documentation, support pages etc.<br />
Drupal can give you Commerce<br />
Good to have a backend you know already</p>
<p>How to integrate<br />
Ideally REST/JSON all the way<br />
Ideally D8<br />
But not always possible<br />
If you need to override at the Extend DS.somethingorother he changed the slide as I was typing</p>
<p>SEO?<br />
preprender.io - it's a long story.<br />
cors.module - Cross Origin Request Service. Works around the cross-domain policy.</p>
<p>[Live demo]</p>
<p>Ember CLI</p>
<h3>Decoupled Drupal with Silex: Larry Garfield &amp; Hagen Last</h3>
<p>CMS for OTT solution<br />
Needed support structured metadata, UI-managed<br />
Publishing workflow, curated content: banners, homepages, lists of "stuff"<br />
Data sync woith Ooyala<br />
APIs working at scale<br />
1000s of movies, 10000s of users<br />
Support website and apps</p>
<p>You know what's good for this? Drupal 8! But, oh, early 2013.<br />
D7 with Services. But Services isn't actually REST; it's more RPC. Architecturally it's fighting against D7.<br />
RestWs? In early 2013 it was still fairly new.<br />
Pure Symfony? We lose a lot of Drupal's out-of-box capabilities.<br />
Silex? 3 times faster than D7 on "Hello, World", prior to ANY optimization. But it's a microframework, so even less out of box.</p>
<p>D7 + Silex?<br />
Embed Silex *in* Drupal?<br />
Leverage the right tool for the job.</p>
<p>Comms?<br />
Drupal data is Drupals<br />
Editorial structure != API structure<br />
So put Elastic Search in the middle?</p>
<p>XML =import=&gt; Drupal =editorial=&gt; Elastic Search =read-only=&gt; Silex =web=&gt; client browser/app</p>
<p>Importing - Migrate is meant to run from a user trigger. This was a PUSH import.<br />
Feeds - wants to map things to one object per thing. We wanted to map to many. Got a lot of moving parts we didn't want the overhead of.<br />
Services - kind of clunky &amp; not really RESTful.<br />
Custom.<br />
Parsed XML with a library called Querypath (module for it too)<br />
Closure-based mapping objects - potentially go to mutliple nodes<br />
HTTP - well, it's a cheat: POST-only, no REST<br />
3 page callbacks, common code, simplehttpauth to restrict access over SSL.</p>
<p>XML data wasn't very good, so had to talk to a third-party service. Rotten Tomatoes!<br />
Use Guzzle - this replaces drupal_http_request() in D8, which is DAMN hard to debug.<br />
Guzzle lib for Rotten Tomatoes - released on Github!<br />
Rotten Tomatoes module also released!<br />
Map nodes by IMDB ID</p>
<p>Editorial: main interface is Views with filters<br />
Editing etc. tabs built with Panels<br />
Custom form alters to e.g. log message only required if as a reason for rejection<br />
Overriding form edit pages with panels is painful - needed form alters e.g. around the required fields.</p>
<p>Export to Elastic Search<br />
Lots of preprocessing needed: Drupal structure is NOT the same as the API structure. Reformat once, on the way in.<br />
Also contrib on ES quite weak.<br />
Rules has too many moving parts.<br />
Exporting some nodes also requires others: so programmatically publish assets.<br />
Another mini-custom OOP system, decoupled from Drupal but within it.<br />
Complex rules about what can be published: so don't do on publication - takes too long. Use queuing and cron.</p>
<p>Silex with Hypertext Application Language extension to autodiscover from one JSON resource to another.<br />
Extends JSON to provide hypermedia links. D8 uses this out of the box<br />
Returning objects within Silex, way back to the kernel<br />
This is the same architecture as in D8<br />
HAL Browser - single-page app to browse any arbitrary API</p>
<p>High availability:<br />
Silex is stateless - spin up several and load balance<br />
Elasticsearch clusters really, really easily<br />
Varnish caching = FAST</p>
<h3>Closing session</h3>
<p><a href="http://barcelona2015.drupal.org/">http://barcelona2015.drupal.org/</a></p>
</div></div></div><div id="comments" class="comment-wrapper">
  
  
  </div>
</div>

  </div>
</div>
  </div>
      
    </div></div> <!-- /.section, /#content -->

          <div id="sidebar-second" class="column sidebar"><div class="section">
          <div class="region region-sidebar-second">
    <div id="block-block-7" class="block block-block">

    <h2>I&#039;m a Drupal Association member!</h2>
  
  <div class="content">
    <div style="margin: -15px 0"><a href="https://drupal.org/user/130486"><img src="https://association.drupal.org/files/Drupal_Association_ind_member_217_0.png" alt="My individual membership of the Drupal Association" title="You can view my DA membership on drupal.org" width="168" height="168" /></a></div>
  </div>
</div>
<div id="block-block-10" class="block block-block">

    <h2>Drupal 8 API tutorials</h2>
  
  <div class="content">
    <p>Want to learn about the Drupal 8 APIs, with worked examples? <a href="/d8api.html">Follow my series of tutorials</a>, covering routing, caching, entities, config and much more!</p>
  </div>
</div>
<div id="block-stateblock-stateblock" class="block block-stateblock">

    <h2>Want to hire me?</h2>
  
  <div class="content">
    <a href="../../contact.html"><section class="state-no">
  <header>I'm currently</header>
  <section class="state-description">fully booked</section>
  <footer>for freelance work. But you can click here to contact me!</footer>
</section></a>  </div>
</div>
<div id="block-ds-extras-blogpost-secondary-nav" class="block block-ds-extras">

    
  <div class="content">
    <div class="field field-name-taxonomy-vocabulary-6 field-type-taxonomy-term-reference field-label-above clearfix"><h3 class="field-label">Blog category: </h3><ul class="links"><li class="taxonomy-term-reference-0"><a href="../../category/wordpress-category/conferences.html">conferences</a></li></ul></div><div class="field field-name-taxonomy-vocabulary-7 field-type-taxonomy-term-reference field-label-above clearfix"><h3 class="field-label">Tags: </h3><ul class="links"><li class="taxonomy-term-reference-0"><a href="../../category/tags/dcams.html">dcams</a>, <a href="../../category/wordpress-tag/drupalcon.html">drupalcon</a></li></ul></div>  </div>
</div>
<div id="block-views-recent-blog-block-1" class="block block-views">

    <h2>Recent blogposts</h2>
  
  <div class="content">
    <div class="view view-recent-blog view-id-recent_blog view-display-id-block_1 view-dom-id-0b0307968bfc36b78fc44f2dc8bdabd3">
        
  
  
      <div class="view-content">
        <ul>
    <li class="first odd">
      
      <h3>
  
    
      <a href="../2017-07-21/altering-length-drupal-8-text-field-contains-data.html">Altering the length of a Drupal 8 text field that contains data</a>
      </h3>
  

      <div>
  
    
      Friday, July 21, 2017 - 11:31
      </div>
  
    </li>
      <li class="even">
      
      <h3>
  
    
      <a href="../2017-06-02/menagerie-testing-behavioural-unit-system-smoke-regression-oh-my.html">A menagerie of testing: behavioural, unit, system, smoke, regression, oh my!</a>
      </h3>
  

      <div>
  
    
      Friday, June 2, 2017 - 10:11
      </div>
  
    </li>
      <li class="last odd">
      
      <h3>
  
    
      <a href="../2017-05-30/including-javascript-behat-tests-all-inside-headless-virtual-machine.html">Including Javascript in Behat tests, all inside a headless, virtual machine</a>
      </h3>
  

      <div>
  
    
      Tuesday, May 30, 2017 - 16:51
      </div>
  
    </li>
    </ul>
    </div>
  
  
  
      
<div class="more-link">
  <a href="../../blog_view.html">
    All blogposts  </a>
</div>
  
  
  
</div>  </div>
</div>
<div id="block-block-5" class="block block-block">

    <h2>About me</h2>
  
  <div class="content">
    <p>I'm J-P Stacey, and I'm a freelance technical developer and software architect, working with <a href="http://drupal.org/">Drupal</a>, Javascript, Symfony, PHP and devops, with experience in project and process management and an emphasis on usability.</p>
<p>I live in the <a href="http://gov.uk">UK</a>; my website is self-hosted on <a href="http://bigv.io">bigv.io</a>; my email is hosted by <a href="http://mail.google.com">Google</a>, and that's also what I use to share files. <small>(<a href="https://data-jurisdiction.org/country/GB">More info</a>|<a href="/blog/2013-08-20/what-jurisdiction-am-i-in.html">What is this?</a>)</small></p>
  </div>
</div>
<div id="block-menu-secondary-menu" class="block block-menu">

    <h2>Find me elsewhere</h2>
  
  <div class="content">
    <ul class="menu clearfix"><li class="first leaf"><a href="http://twitter.com/mphield" title="My commercial account on Twitter">Company @ Twitter</a></li>
<li class="leaf"><a href="http://drupal.org/user/130486" title="Drupal user #130486: woohoo!">Drupal @ d.o</a></li>
<li class="leaf"><a href="http://github.com/jpstacey" title="My code repositories on Github">Code @ Github</a></li>
<li class="leaf"><a href="http://flickr.com/photos/eustatius" title="My photos on Flickr">Photos @ Flickr</a></li>
<li class="last leaf"><a href="http://pinboard.in/u:jpstacey" title="My links on the Pinboard bookmarking site">Links @ Pinboard</a></li>
</ul>  </div>
</div>
  </div>
      </div></div> <!-- /.section, /#sidebar-second -->
    
  </div></div> <!-- /#main, /#main-wrapper -->

  
  <div id="footer-wrapper"><div class="section">

    
    
  </div></div> <!-- /.section, /#footer-wrapper -->

</div></div> <!-- /#page, /#page-wrapper -->
  </body>
</html>
